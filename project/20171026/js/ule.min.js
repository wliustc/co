!function(e){"use strict";e.fn.transitionEnd=function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<i.length;n++)a.off(i[n],t)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=this;if(e)for(n=0;n<i.length;n++)a.on(i[n],t);return this},e.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)};return e}(),e.touchEvents={start:e.support.touch?"touchstart":"mousedown",move:e.support.touch?"touchmove":"mousemove",end:e.support.touch?"touchend":"mouseup"},e.getTouchPosition=function(e){return e=e.originalEvent||e,"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type?{x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY}:{x:e.pageX,y:e.pageY}},e.fn.scrollHeight=function(){return this[0].scrollHeight},e.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},e.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},e.getTranslate=function(e,t){var n,i,a,o;return"undefined"==typeof t&&(t="x"),a=window.getComputedStyle(e,null),window.WebKitCSSMatrix?o=new WebKitCSSMatrix("none"===a.webkitTransform?"":a.webkitTransform):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(i=window.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0},e.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},e.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},e.fn.join=function(e){return this.toArray().join(e)}}($),+function(e){"use strict";e.Template7=e.t7=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"function"==typeof e}function n(e){var t,n,i,a=e.replace(/[{}#}]/g,"").split(" "),o=[];for(n=0;n<a.length;n++){var r=a[n];if(0===n)o.push(r);else if(0===r.indexOf('"'))if(2===r.match(/"/g).length)o.push(r);else{for(t=0,i=n+1;i<a.length;i++)if(r+=" "+a[i],a[i].indexOf('"')>=0){t=i,o.push(r);break}t&&(n=t)}else if(r.indexOf("=")>0){var s=r.split("="),c=s[0],l=s[1];if(2!==l.match(/"/g).length){for(t=0,i=n+1;i<a.length;i++)if(l+=" "+a[i],a[i].indexOf('"')>=0){t=i;break}t&&(n=t)}var u=[c,l.replace(/"/g,"")];o.push(u)}else o.push(r)}return o}function i(t){var i,a,o=[];if(!t)return[];var r=t.split(/({{[^{^}]*}})/);for(i=0;i<r.length;i++){var s=r[i];if(""!==s)if(s.indexOf("{{")<0)o.push({type:"plain",content:s});else{if(s.indexOf("{/")>=0)continue;if(s.indexOf("{#")<0&&s.indexOf(" ")<0&&s.indexOf("else")<0){o.push({type:"variable",contextName:s.replace(/[{}]/g,"")});continue}var c=n(s),l=c[0],u=[],p={};for(a=1;a<c.length;a++){var d=c[a];e(d)?p[d[0]]="false"!==d[1]&&d[1]:u.push(d)}if(s.indexOf("{#")>=0){var h,f="",m="",v=0,g=!1,w=!1,y=0;for(a=i+1;a<r.length;a++)if(r[a].indexOf("{{#")>=0&&y++,r[a].indexOf("{{/")>=0&&y--,r[a].indexOf("{{#"+l)>=0)f+=r[a],w&&(m+=r[a]),v++;else if(r[a].indexOf("{{/"+l)>=0){if(!(v>0)){h=a,g=!0;break}v--,f+=r[a],w&&(m+=r[a])}else r[a].indexOf("else")>=0&&0===y?w=!0:(w||(f+=r[a]),w&&(m+=r[a]));g&&(h&&(i=h),o.push({type:"helper",helperName:l,contextName:u,content:f,inverseContent:m,hash:p}))}else s.indexOf(" ")>0&&o.push({type:"helper",helperName:l,contextName:u,hash:p})}}return o}var a=function(e){function t(e,t){return e.content?r(e.content,t):function(){return""}}function n(e,t){return e.inverseContent?r(e.inverseContent,t):function(){return""}}function a(e,t){var n,i,a=0;if(0===e.indexOf("../")){a=e.split("../").length-1;var o=t.split("_")[1]-a;t="ctx_"+(o>=1?o:1),i=e.split("../")[a].split(".")}else 0===e.indexOf("@global")?(t="$.Template7.global",i=e.split("@global.")[1].split(".")):0===e.indexOf("@root")?(t="ctx_1",i=e.split("@root.")[1].split(".")):i=e.split(".");n=t;for(var r=0;r<i.length;r++){var s=i[r];0===s.indexOf("@")?r>0?n+="[(data && data."+s.replace("@","")+")]":n="(data && data."+e.replace("@","")+")":isFinite(s)?n+="["+s+"]":0===s.indexOf("this")?n=s.replace("this",t):n+="."+s}return n}function o(e,t){for(var n=[],i=0;i<e.length;i++)0===e[i].indexOf('"')?n.push(e[i]):n.push(a(e[i],t));return n.join(", ")}function r(e,r){if(r=r||1,e=e||s.template,"string"!=typeof e)throw new Error("Template7: Template must be a string");var c=i(e);if(0===c.length)return function(){return""};var l="ctx_"+r,u="(function ("+l+", data) {\n";1===r&&(u+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",u+="function isFunction(func){return (typeof func === 'function');}\n",u+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),u+="var r = '';\n";var p;for(p=0;p<c.length;p++){var d=c[p];if("plain"!==d.type){var h,f;if("variable"===d.type&&(h=a(d.contextName,l),u+="r += c("+h+", "+l+");"),"helper"===d.type)if(d.helperName in s.helpers)f=o(d.contextName,l),u+="r += ($.Template7.helpers."+d.helperName+").call("+l+", "+(f&&f+", ")+"{hash:"+JSON.stringify(d.hash)+", data: data || {}, fn: "+t(d,r+1)+", inverse: "+n(d,r+1)+", root: ctx_1});";else{if(d.contextName.length>0)throw new Error('Template7: Missing helper: "'+d.helperName+'"');h=a(d.helperName,l),u+="if ("+h+") {",u+="if (isArray("+h+")) {",u+="r += ($.Template7.helpers.each).call("+l+", "+h+", {hash:"+JSON.stringify(d.hash)+", data: data || {}, fn: "+t(d,r+1)+", inverse: "+n(d,r+1)+", root: ctx_1});",u+="}else {",u+="r += ($.Template7.helpers.with).call("+l+", "+h+", {hash:"+JSON.stringify(d.hash)+", data: data || {}, fn: "+t(d,r+1)+", inverse: "+n(d,r+1)+", root: ctx_1});",u+="}}"}}else u+="r +='"+d.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return u+="\nreturn r;})",eval.call(window,u)}var s=this;s.template=e,s.compile=function(e){return s.compiled||(s.compiled=r(e)),s.compiled}};a.prototype={options:{},helpers:{if:function(e,n){return t(e)&&(e=e.call(this)),e?n.fn(this,n.data):n.inverse(this,n.data)},unless:function(e,n){return t(e)&&(e=e.call(this)),e?n.inverse(this,n.data):n.fn(this,n.data)},each:function(n,i){var a="",o=0;if(t(n)&&(n=n.call(this)),e(n)){for(i.hash.reverse&&(n=n.reverse()),o=0;o<n.length;o++)a+=i.fn(n[o],{first:0===o,last:o===n.length-1,index:o});i.hash.reverse&&(n=n.reverse())}else for(var r in n)o++,a+=i.fn(n[r],{key:r});return o>0?a:i.inverse(this)},with:function(e,n){return t(e)&&(e=e.call(this)),n.fn(e)},join:function(e,n){return t(e)&&(e=e.call(this)),e.join(n.hash.delimiter||n.hash.delimeter)},js:function(e,t){var n;return n=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})",eval.call(this,n).call(this)},js_compare:function(e,t){var n;n=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})";var i=eval.call(this,n).call(this);return i?t.fn(this,t.data):t.inverse(this,t.data)}}};var o=function(e,t){if(2===arguments.length){var n=new a(e),i=n.compile()(t);return n=null,i}return new a(e)};return o.registerHelper=function(e,t){a.prototype.helpers[e]=t},o.unregisterHelper=function(e){a.prototype.helpers[e]=void 0,delete a.prototype.helpers[e]},o.compile=function(e,t){var n=new a(e,t);return n.compile()},o.options=a.prototype.options,o.helpers=a.prototype.helpers,o}()}($),function(e,t,n,i){"use strict";function a(e,t,n){return setTimeout(l(e,n),t)}function o(e,t,n){return!!Array.isArray(e)&&(r(e,n[t],n),!0)}function r(e,t,n){var a;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(a=0;a<e.length;)t.call(n,e[a],a,e),a++;else for(a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function s(t,n,i){var a="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=e.console&&(e.console.warn||e.console.log);return o&&o.call(e.console,a,i),t.apply(this,arguments)}}function c(e,t,n){var i,a=t.prototype;i=e.prototype=Object.create(a),i.constructor=e,i._super=a,n&&pe(i,n)}function l(e,t){return function(){return e.apply(t,arguments)}}function u(e,t){return typeof e==fe?e.apply(t?t[0]||i:i,t):e}function p(e,t){return e===i?t:e}function d(e,t,n){r(v(t),function(t){e.addEventListener(t,n,!1)})}function h(e,t,n){r(v(t),function(t){e.removeEventListener(t,n,!1)})}function f(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function m(e,t){return e.indexOf(t)>-1}function v(e){return e.trim().split(/\s+/g)}function g(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function w(e){return Array.prototype.slice.call(e,0)}function y(e,t,n){for(var i=[],a=[],o=0;o<e.length;){var r=t?e[o][t]:e[o];g(a,r)<0&&i.push(e[o]),a[o]=r,o++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function x(e,t){for(var n,a,o=t[0].toUpperCase()+t.slice(1),r=0;r<de.length;){if(n=de[r],a=n?n+o:t,a in e)return a;r++}return i}function k(){return xe++}function b(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function T(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){u(e.options.enable,[e])&&n.handler(t)},this.init()}function _(e){var t,n=e.options.inputClass;return new(t=n?n:Te?V:_e?Y:be?F:H)(e,C)}function C(e,t,n){var i=n.pointers.length,a=n.changedPointers.length,o=t&Ie&&i-a===0,r=t&(Ae|Oe)&&i-a===0;n.isFirst=!!o,n.isFinal=!!r,o&&(e.session={}),n.eventType=t,M(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function M(e,t){var n=e.session,i=t.pointers,a=i.length;n.firstInput||(n.firstInput=E(t)),a>1&&!n.firstMultiple?n.firstMultiple=E(t):1===a&&(n.firstMultiple=!1);var o=n.firstInput,r=n.firstMultiple,s=r?r.center:o.center,c=t.center=I(i);t.timeStamp=ge(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=P(s,c),t.distance=O(s,c),D(n,t),t.offsetDirection=A(t.deltaX,t.deltaY);var l=L(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=ve(l.x)>ve(l.y)?l.x:l.y,t.scale=r?$(r.pointers,i):1,t.rotation=r?N(r.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,S(n,t);var u=e.element;f(t.srcEvent.target,u)&&(u=t.srcEvent.target),t.target=u}function D(e,t){var n=t.center,i=e.offsetDelta||{},a=e.prevDelta||{},o=e.prevInput||{};t.eventType!==Ie&&o.eventType!==Ae||(a=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=a.x+(n.x-i.x),t.deltaY=a.y+(n.y-i.y)}function S(e,t){var n,a,o,r,s=e.lastInterval||t,c=t.timeStamp-s.timeStamp;if(t.eventType!=Oe&&(c>Ee||s.velocity===i)){var l=t.deltaX-s.deltaX,u=t.deltaY-s.deltaY,p=L(c,l,u);a=p.x,o=p.y,n=ve(p.x)>ve(p.y)?p.x:p.y,r=A(l,u),e.lastInterval=t}else n=s.velocity,a=s.velocityX,o=s.velocityY,r=s.direction;t.velocity=n,t.velocityX=a,t.velocityY=o,t.direction=r}function E(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:me(e.pointers[n].clientX),clientY:me(e.pointers[n].clientY)},n++;return{timeStamp:ge(),pointers:t,center:I(t),deltaX:e.deltaX,deltaY:e.deltaY}}function I(e){var t=e.length;if(1===t)return{x:me(e[0].clientX),y:me(e[0].clientY)};for(var n=0,i=0,a=0;t>a;)n+=e[a].clientX,i+=e[a].clientY,a++;return{x:me(n/t),y:me(i/t)}}function L(e,t,n){return{x:t/e||0,y:n/e||0}}function A(e,t){return e===t?Pe:ve(e)>=ve(t)?0>e?Ne:$e:0>t?He:Ve}function O(e,t,n){n||(n=Re);var i=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return Math.sqrt(i*i+a*a)}function P(e,t,n){n||(n=Re);var i=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return 180*Math.atan2(a,i)/Math.PI}function N(e,t){return P(t[1],t[0],Fe)+P(e[1],e[0],Fe)}function $(e,t){return O(t[0],t[1],Fe)/O(e[0],e[1],Fe)}function H(){this.evEl=qe,this.evWin=We,this.pressed=!1,T.apply(this,arguments)}function V(){this.evEl=Xe,this.evWin=Qe,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function j(){this.evTarget=Ge,this.evWin=Ze,this.started=!1,T.apply(this,arguments)}function z(e,t){var n=w(e.touches),i=w(e.changedTouches);return t&(Ae|Oe)&&(n=y(n.concat(i),"identifier",!0)),[n,i]}function Y(){this.evTarget=tt,this.targetIds={},T.apply(this,arguments)}function R(e,t){var n=w(e.touches),i=this.targetIds;if(t&(Ie|Le)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var a,o,r=w(e.changedTouches),s=[],c=this.target;if(o=n.filter(function(e){return f(e.target,c)}),t===Ie)for(a=0;a<o.length;)i[o[a].identifier]=!0,a++;for(a=0;a<r.length;)i[r[a].identifier]&&s.push(r[a]),t&(Ae|Oe)&&delete i[r[a].identifier],a++;return s.length?[y(o.concat(s),"identifier",!0),s]:void 0}function F(){T.apply(this,arguments);var e=l(this.handler,this);this.touch=new Y(this.manager,e),this.mouse=new H(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function U(e,t){e&Ie?(this.primaryTouch=t.changedPointers[0].identifier,q.call(this,t)):e&(Ae|Oe)&&q.call(this,t)}function q(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches,a=function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)};setTimeout(a,nt)}}function W(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var a=this.lastTouches[i],o=Math.abs(t-a.x),r=Math.abs(n-a.y);if(it>=o&&it>=r)return!0}return!1}function B(e,t){this.manager=e,this.set(t)}function J(e){if(m(e,lt))return lt;var t=m(e,ut),n=m(e,pt);return t&&n?lt:t||n?t?ut:pt:m(e,ct)?ct:st}function X(){if(!ot)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!n||e.CSS.supports("touch-action",i)}),t}function Q(e){this.options=pe({},this.defaults,e||{}),this.id=k(),this.manager=null,this.options.enable=p(this.options.enable,!0),this.state=ht,this.simultaneous={},this.requireFail=[]}function K(e){return e&wt?"cancel":e&vt?"end":e&mt?"move":e&ft?"start":""}function G(e){return e==Ve?"down":e==He?"up":e==Ne?"left":e==$e?"right":""}function Z(e,t){var n=t.manager;return n?n.get(e):e}function ee(){Q.apply(this,arguments)}function te(){ee.apply(this,arguments),this.pX=null,this.pY=null}function ne(){ee.apply(this,arguments)}function ie(){Q.apply(this,arguments),this._timer=null,this._input=null}function ae(){ee.apply(this,arguments)}function oe(){ee.apply(this,arguments)}function re(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(e,t){return t=t||{},t.recognizers=p(t.recognizers,se.defaults.preset),new ce(e,t)}function ce(e,t){this.options=pe({},se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=_(this),this.touchAction=new B(this,this.options.touchAction),le(this,!0),r(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function le(e,t){var n=e.element;if(n.style){var i;r(e.options.cssProps,function(a,o){i=x(n.style,o),t?(e.oldCssProps[i]=n.style[i],n.style[i]=a):n.style[i]=e.oldCssProps[i]||""}),t||(e.oldCssProps={})}}function ue(e,n){var i=t.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var pe,de=["","webkit","Moz","MS","ms","o"],he=t.createElement("div"),fe="function",me=Math.round,ve=Math.abs,ge=Date.now;pe="function"!=typeof Object.assign?function(e){if(e===i||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(a!==i&&null!==a)for(var o in a)a.hasOwnProperty(o)&&(t[o]=a[o])}return t}:Object.assign;var we=s(function(e,t,n){for(var a=Object.keys(t),o=0;o<a.length;)(!n||n&&e[a[o]]===i)&&(e[a[o]]=t[a[o]]),o++;return e},"extend","Use `assign`."),ye=s(function(e,t){return we(e,t,!0)},"merge","Use `assign`."),xe=1,ke=/mobile|tablet|ip(ad|hone|od)|android/i,be="ontouchstart"in e,Te=x(e,"PointerEvent")!==i,_e=be&&ke.test(navigator.userAgent),Ce="touch",Me="pen",De="mouse",Se="kinect",Ee=25,Ie=1,Le=2,Ae=4,Oe=8,Pe=1,Ne=2,$e=4,He=8,Ve=16,je=Ne|$e,ze=He|Ve,Ye=je|ze,Re=["x","y"],Fe=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(b(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(b(this.element),this.evWin,this.domHandler)}};var Ue={mousedown:Ie,mousemove:Le,mouseup:Ae},qe="mousedown",We="mousemove mouseup";c(H,T,{handler:function(e){var t=Ue[e.type];t&Ie&&0===e.button&&(this.pressed=!0),t&Le&&1!==e.which&&(t=Ae),this.pressed&&(t&Ae&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:De,srcEvent:e}))}});var Be={pointerdown:Ie,pointermove:Le,pointerup:Ae,pointercancel:Oe,pointerout:Oe},Je={2:Ce,3:Me,4:De,5:Se},Xe="pointerdown",Qe="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Xe="MSPointerDown",Qe="MSPointerMove MSPointerUp MSPointerCancel"),c(V,T,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),a=Be[i],o=Je[e.pointerType]||e.pointerType,r=o==Ce,s=g(t,e.pointerId,"pointerId");a&Ie&&(0===e.button||r)?0>s&&(t.push(e),s=t.length-1):a&(Ae|Oe)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,a,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var Ke={touchstart:Ie,touchmove:Le,touchend:Ae,touchcancel:Oe},Ge="touchstart",Ze="touchstart touchmove touchend touchcancel";c(j,T,{handler:function(e){var t=Ke[e.type];if(t===Ie&&(this.started=!0),this.started){var n=z.call(this,e,t);t&(Ae|Oe)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ce,srcEvent:e})}}});var et={touchstart:Ie,touchmove:Le,touchend:Ae,touchcancel:Oe},tt="touchstart touchmove touchend touchcancel";c(Y,T,{handler:function(e){var t=et[e.type],n=R.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ce,srcEvent:e})}});var nt=2500,it=25;c(F,T,{handler:function(e,t,n){var i=n.pointerType==Ce,a=n.pointerType==De;if(!(a&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)U.call(this,t,n);else if(a&&W.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var at=x(he.style,"touchAction"),ot=at!==i,rt="compute",st="auto",ct="manipulation",lt="none",ut="pan-x",pt="pan-y",dt=X();B.prototype={set:function(e){e==rt&&(e=this.compute()),ot&&this.manager.element.style&&dt[e]&&(this.manager.element.style[at]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return r(this.manager.recognizers,function(t){u(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),J(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,a=m(i,lt)&&!dt[lt],o=m(i,pt)&&!dt[pt],r=m(i,ut)&&!dt[ut];if(a){var s=1===e.pointers.length,c=e.distance<2,l=e.deltaTime<250;if(s&&c&&l)return}return r&&o?void 0:a||o&&n&je||r&&n&ze?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ht=1,ft=2,mt=4,vt=8,gt=vt,wt=16,yt=32;Q.prototype={defaults:{},set:function(e){return pe(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Z(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=Z(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=Z(e,this),-1===g(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=Z(e,this);var t=g(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;vt>i&&t(n.options.event+K(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),i>=vt&&t(n.options.event+K(i))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=yt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(yt|ht)))return!1;e++}return!0},recognize:function(e){var t=pe({},e);return u(this.options.enable,[this,t])?(this.state&(gt|wt|yt)&&(this.state=ht),this.state=this.process(t),void(this.state&(ft|mt|vt|wt)&&this.tryEmit(t))):(this.reset(),void(this.state=yt))},process:function(e){},getTouchAction:function(){},reset:function(){}},c(ee,Q,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(ft|mt),a=this.attrTest(e);return i&&(n&Oe||!a)?t|wt:i||a?n&Ae?t|vt:t&ft?t|mt:ft:yt}}),c(te,ee,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ye},getTouchAction:function(){var e=this.options.direction,t=[];return e&je&&t.push(pt),e&ze&&t.push(ut),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,a=e.direction,o=e.deltaX,r=e.deltaY;return a&t.direction||(t.direction&je?(a=0===o?Pe:0>o?Ne:$e,n=o!=this.pX,i=Math.abs(e.deltaX)):(a=0===r?Pe:0>r?He:Ve,n=r!=this.pY,i=Math.abs(e.deltaY))),e.direction=a,n&&i>t.threshold&&a&t.direction},attrTest:function(e){return ee.prototype.attrTest.call(this,e)&&(this.state&ft||!(this.state&ft)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=G(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),c(ne,ee,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ft)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),c(ie,Q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[st]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(Ae|Oe)&&!o)this.reset();else if(e.eventType&Ie)this.reset(),this._timer=a(function(){this.state=gt,this.tryEmit()},t.time,this);else if(e.eventType&Ae)return gt;return yt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===gt&&(e&&e.eventType&Ae?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ge(),this.manager.emit(this.options.event,this._input)))}}),c(ae,ee,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ft)}}),c(oe,ee,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:je|ze,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(je|ze)?t=e.overallVelocity:n&je?t=e.overallVelocityX:n&ze&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ve(t)>this.options.velocity&&e.eventType&Ae},emit:function(e){var t=G(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(re,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ct]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Ie&&0===this.count)return this.failTimeout();if(i&&o&&n){if(e.eventType!=Ae)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||O(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&r?this.count+=1:this.count=1,this._input=e;var c=this.count%t.taps;if(0===c)return this.hasRequireFailures()?(this._timer=a(function(){this.state=gt,this.tryEmit()},t.interval,this),ft):gt}return yt},failTimeout:function(){return this._timer=a(function(){this.state=yt},this.options.interval,this),yt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==gt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.8",se.defaults={domEvents:!1,touchAction:rt,enable:!0,inputTarget:null,inputClass:null,preset:[[ae,{enable:!1}],[ne,{enable:!1},["rotate"]],[oe,{direction:je}],[te,{direction:je},["swipe"]],[re],[re,{event:"doubletap",taps:2},["tap"]],[ie]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var xt=1,kt=2;ce.prototype={set:function(e){return pe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?kt:xt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&gt)&&(a=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],t.stopped===kt||a&&n!=a&&!n.canRecognizeWith(a)?n.reset():n.recognize(e),!a&&n.state&(ft|mt|vt)&&(a=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Q)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=g(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==i&&t!==i){var n=this.handlers;return r(v(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==i){var n=this.handlers;return r(v(e),function(e){t?n[e]&&n[e].splice(g(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&ue(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&le(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},pe(se,{INPUT_START:Ie,INPUT_MOVE:Le,INPUT_END:Ae,INPUT_CANCEL:Oe,STATE_POSSIBLE:ht,STATE_BEGAN:ft,STATE_CHANGED:mt,STATE_ENDED:vt,STATE_RECOGNIZED:gt,STATE_CANCELLED:wt,STATE_FAILED:yt,DIRECTION_NONE:Pe,DIRECTION_LEFT:Ne,DIRECTION_RIGHT:$e,DIRECTION_UP:He,DIRECTION_DOWN:Ve,DIRECTION_HORIZONTAL:je,DIRECTION_VERTICAL:ze,DIRECTION_ALL:Ye,Manager:ce,Input:T,TouchAction:B,TouchInput:Y,MouseInput:H,PointerEventInput:V,TouchMouseInput:F,SingleTouchInput:j,Recognizer:Q,AttrRecognizer:ee,Tap:re,Pan:te,Swipe:oe,Pinch:ne,Rotate:ae,Press:ie,on:d,off:h,each:r,merge:ye,extend:we,assign:pe,inherit:c,bindFn:l,prefixed:x});var bt="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};bt.Hammer=se,"function"==typeof define&&define.amd?define(function(){return se}):"undefined"!=typeof module&&module.exports?module.exports=se:e[n]=se}(window,document,"Hammer"),+function(e){"use strict";var t;e.modal=function(n,i){n=e.extend({},t,n);var a=n.buttons,o=a.map(function(e,t){return'<a href="javascript:;" class="weui-dialog__btn '+(e.className||"")+'">'+e.text+"</a>"}).join(""),r='<div class="weui-dialog"><div class="weui-dialog__hd"><strong class="weui-dialog__title">'+n.title+"</strong></div>"+(n.text?'<div class="weui-dialog__bd">'+n.text+"</div>":"")+'<div class="weui-dialog__ft">'+o+"</div></div>",s=e.openModal(r,i);return s.find(".weui-dialog__btn").each(function(t,i){var o=e(i);o.click(function(){n.autoClose&&e.closeModal(),a[t].onClick&&a[t].onClick.call(s)})}),s},e.openModal=function(t,n){var i=e("<div class='weui-mask'></div>").appendTo(document.body);i.show();var a=e(t).appendTo(document.body);return n&&a.transitionEnd(function(){n.call(a)}),a.show(),i.addClass("weui-mask--visible"),a.addClass("weui-dialog--visible"),a},e.closeModal=function(){e(".weui-mask--visible").removeClass("weui-mask--visible").transitionEnd(function(){e(this).remove()}),e(".weui-dialog--visible").removeClass("weui-dialog--visible").transitionEnd(function(){e(this).remove()})},e.alert=function(n,i,a){var o;return"object"==typeof n?o=n:("function"==typeof i&&(a=arguments[1],i=void 0),o={text:n,title:i,onOK:a}),e.modal({text:o.text,title:o.title,buttons:[{text:t.buttonOK,className:"primary",onClick:o.onOK}]})},e.confirm=function(n,i,a,o){var r;return"object"==typeof n?r=n:("function"==typeof i&&(o=arguments[2],a=arguments[1],i=void 0),r={text:n,title:i,onOK:a,onCancel:o}),e.modal({text:r.text,title:r.title,buttons:[{text:t.buttonCancel,className:"default",onClick:r.onCancel},{text:t.buttonOK,className:"primary",onClick:r.onOK}]})},e.prompt=function(n,i,a,o,r){var s;"object"==typeof n?s=n:("function"==typeof i&&(r=arguments[3],o=arguments[2],a=arguments[1],i=void 0),s={text:n,title:i,input:r,onOK:a,onCancel:o,empty:!1});var c=e.modal({text:'<p class="weui-prompt-text">'+(s.text||"")+'</p><input type="text" class="weui-input weui-prompt-input" id="weui-prompt-input" value="'+(s.input||"")+'" />',title:s.title,autoClose:!1,buttons:[{text:t.buttonCancel,className:"default",onClick:function(){e.closeModal(),s.onCancel&&s.onCancel.call(c)}},{text:t.buttonOK,className:"primary",onClick:function(){var t=e("#weui-prompt-input").val();return s.empty||""!==t&&null!==t?(e.closeModal(),void(s.onOK&&s.onOK.call(c,t))):(c.find(".weui-prompt-input").focus()[0].select(),!1)}}]},function(){this.find(".weui-prompt-input").focus()[0].select()});return c},e.login=function(n,i,a,o,r,s){var c;"object"==typeof n?c=n:("function"==typeof i&&(s=arguments[4],r=arguments[3],o=arguments[2],a=arguments[1],i=void 0),c={text:n,title:i,username:r,password:s,onOK:a,onCancel:o});var l=e.modal({text:'<p class="weui-prompt-text">'+(c.text||"")+'</p><input type="text" class="weui-input weui-prompt-input" id="weui-prompt-username" value="'+(c.username||"")+'" placeholder="输入用户名" /><input type="password" class="weui-input weui-prompt-input" id="weui-prompt-password" value="'+(c.password||"")+'" placeholder="输入密码" />',title:c.title,autoClose:!1,buttons:[{text:t.buttonCancel,className:"default",onClick:function(){e.closeModal(),c.onCancel&&c.onCancel.call(l)}},{text:t.buttonOK,className:"primary",onClick:function(){var t=e("#weui-prompt-username").val(),n=e("#weui-prompt-password").val();return c.empty||""!==t&&null!==t?c.empty||""!==n&&null!==n?(e.closeModal(),
void(c.onOK&&c.onOK.call(l,t,n))):(l.find("#weui-prompt-password").focus()[0].select(),!1):(l.find("#weui-prompt-username").focus()[0].select(),!1)}}]},function(){this.find("#weui-prompt-username").focus()[0].select()});return l},t=e.modal.prototype.defaults={title:"提示",text:void 0,buttonOK:"确定",buttonCancel:"取消",buttons:[{text:"确定",className:"primary"}],autoClose:!0}}($),+function(e){"use strict";var t=function(t,n){n=n||"";var i=(e("<div class='weui-mask_transparent'></div>").appendTo(document.body),'<div class="weui-toast '+n+'">'+t+"</div>"),a=e(i).appendTo(document.body);a.show(),a.addClass("weui-toast--visible")},n=function(t){e(".weui-mask_transparent").remove(),e(".weui-toast--visible").removeClass("weui-toast--visible").transitionEnd(function(){var n=e(this);n.remove(),t&&t(n)})};e.toast=function(e,a,o){"function"==typeof a&&(o=a);var r,s="weui-icon-success-no-circle",c=i.duration;"cancel"==a?(r="weui-toast_cancel",s="weui-icon-cancel"):"forbidden"==a?(r="weui-toast--forbidden",s="weui-icon-warn"):"text"==a?r="weui-toast--text":"number"==typeof a&&(c=a),t('<i class="'+s+' weui-icon_toast"></i><p class="weui-toast_content">'+(e||"已经完成")+"</p>",r),setTimeout(function(){n(o)},c)},e.showLoading=function(e){var n='<div class="weui_loading">';n+='<i class="weui-loading weui-icon_toast"></i>',n+="</div>",n+='<p class="weui-toast_content">'+(e||"数据加载中")+"</p>",t(n,"weui_loading_toast")},e.hideLoading=function(){n()};var i=e.toast.prototype.defaults={duration:2500}}($),+function(e){"use strict";var t,n=function(t){var n=e("<div class='weui-mask weui-actions_mask'></div>").appendTo(document.body),i=t.actions||[],a=i.map(function(e,t){return'<div class="weui-actionsheet__cell '+(e.className||"")+'">'+e.text+"</div>"}).join(""),o="";t.title&&(o='<div class="weui-actionsheet__title">'+t.title+"</div>");var r='<div class="weui-actionsheet " id="weui-actionsheet">'+o+'<div class="weui-actionsheet__menu">'+a+'</div><div class="weui-actionsheet__action"><div class="weui-actionsheet__cell weui-actionsheet_cancel">取消</div></div></div>',s=e(r).appendTo(document.body);s.find(".weui-actionsheet__menu .weui-actionsheet__cell, .weui-actionsheet__action .weui-actionsheet__cell").each(function(n,a){e(a).click(function(){e.closeActions(),t.onClose&&t.onClose(),i[n]&&i[n].onClick&&i[n].onClick()})}),n.show(),s.show(),n.addClass("weui-mask--visible"),s.addClass("weui-actionsheet_toggle")},i=function(){e(".weui-mask").removeClass("weui-mask--visible").transitionEnd(function(){e(this).remove()}),e(".weui-actionsheet").removeClass("weui-actionsheet_toggle").transitionEnd(function(){e(this).remove()})};e.actions=function(i){i=e.extend({},t,i),n(i)},e.closeActions=function(){i()},e(document).on("click",".weui-actions_mask",function(){e.closeActions()});var t=e.actions.prototype.defaults={title:void 0,onClose:void 0}}($),+function(e){"use strict";var t=function(t){this.container=e(t),this.distance=50,this.attachEvents()};t.prototype.touchStart=function(t){if(!this.container.hasClass("refreshing")){var n=e.getTouchPosition(t);this.start=n,this.diffX=this.diffY=0}},t.prototype.touchMove=function(t){if(!this.container.hasClass("refreshing")){if(!this.start)return!1;if(!(this.container.scrollTop()>0)){var n=e.getTouchPosition(t);this.diffX=n.x-this.start.x,this.diffY=n.y-this.start.y,this.diffY<0||(this.container.addClass("touching"),t.preventDefault(),t.stopPropagation(),this.diffY=Math.pow(this.diffY,.8),this.container.css("transform","translate3d(0, "+this.diffY+"px, 0)"),this.diffY<this.distance?this.container.removeClass("pull-up").addClass("pull-down"):this.container.removeClass("pull-down").addClass("pull-up"))}}},t.prototype.touchEnd=function(){this.start=!1,this.diffY<=0||this.container.hasClass("refreshing")||(this.container.removeClass("touching"),this.container.removeClass("pull-down pull-up"),this.container.css("transform",""),Math.abs(this.diffY)<=this.distance||(this.container.addClass("refreshing"),this.container.trigger("pull-to-refresh")))},t.prototype.attachEvents=function(){var t=this.container;t.addClass("weui-pull-to-refresh"),t.on(e.touchEvents.start,e.proxy(this.touchStart,this)),t.on(e.touchEvents.move,e.proxy(this.touchMove,this)),t.on(e.touchEvents.end,e.proxy(this.touchEnd,this))};var n=function(e){new t(e)},i=function(t){e(t).removeClass("refreshing")};e.fn.pullToRefresh=function(){return this.each(function(){n(this)})},e.fn.pullToRefreshDone=function(){return this.each(function(){i(this)})}}($),+function(e){"use strict";var t=function(t,n){this.container=e(t),this.container.data("infinite",this),this.distance=n||50,this.attachEvents()};t.prototype.scroll=function(){var t=this.container,n=t.scrollHeight()-(e(window).height()+t.scrollTop());n<=this.distance&&t.trigger("infinite")},t.prototype.attachEvents=function(t){var n=this.container,i="BODY"===n[0].tagName.toUpperCase()?e(document):n;i[t?"off":"on"]("scroll",e.proxy(this.scroll,this))},t.prototype.detachEvents=function(e){this.attachEvents(!0)},e.fn.infinite=function(e){return this.each(function(){new t(this,e)})},e.fn.destroyInfinite=function(){return this.each(function(){var t=e(this).data("infinite");t&&t.detachEvents&&t.detachEvents()})}}($),+function(e){"use strict";var t="weui-bar__item--on",n=function(n){var i=e(n);if(!i.hasClass(t)){var a=i.attr("href");if(/^#/.test(a)){i.parent().find("."+t).removeClass(t),i.addClass(t);var o=i.parents(".weui-tab").find(".weui-tab__bd");o.find(".weui-tab__bd-item--active").removeClass("weui-tab__bd-item--active"),e(a).addClass("weui-tab__bd-item--active")}}};e.showTab=n,e(document).on("click",".weui-navbar__item, .weui-tabbar__item",function(i){var a=e(i.currentTarget),o=a.attr("href");a.hasClass(t)||/^#/.test(o)&&(i.preventDefault(),n(a))})}($),+function(e){"use strict";e(document).on("click touchstart",".weui-search-bar__label",function(t){e(t.target).parents(".weui-search-bar").addClass("weui-search-bar_focusing").find("input").focus()}).on("click",".weui-search-bar__cancel-btn",function(t){e(t.target).parents(".weui-search-bar").removeClass("weui-search-bar_focusing").find(".weui-search-bar__input").val("").blur()}).on("click",".weui-icon-clear",function(t){e(t.target).parents(".weui-search-bar").find(".weui-search-bar__input").val("").focus()})}($),function(e){"use strict";var t={},n=navigator.userAgent,i=n.match(/(Android);?[\s\/]+([\d.]+)?/),a=n.match(/(iPad).*OS\s([\d_]+)/),o=n.match(/(iPod)(.*OS\s([\d_]+))?/),r=!a&&n.match(/(iPhone\sOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipad=t.androidChrome=!1,i&&(t.os="android",t.osVersion=i[2],t.android=!0,t.androidChrome=n.toLowerCase().indexOf("chrome")>=0),(a||r||o)&&(t.os="ios",t.ios=!0),r&&!o&&(t.osVersion=r[2].replace(/_/g,"."),t.iphone=!0),a&&(t.osVersion=a[2].replace(/_/g,"."),t.ipad=!0),o&&(t.osVersion=o[3]?o[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&n.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=n.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(r||a||o)&&n.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var s=t.osVersion.split(".");t.minimalUi=!t.webView&&(o||r)&&(1*s[0]===7?1*s[1]>=1:1*s[0]>7)&&e('meta[name="viewport"]').length>0&&e('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var c=e(window).width(),l=e(window).height();t.statusBar=!1,t.webView&&c*l===screen.width*screen.height?t.statusBar=!0:t.statusBar=!1;var u=[];if(t.pixelRatio=window.devicePixelRatio||1,u.push("pixel-ratio-"+Math.floor(t.pixelRatio)),t.pixelRatio>=2&&u.push("retina"),t.os&&(u.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),"ios"===t.os))for(var p=parseInt(t.osVersion.split(".")[0],10),d=p-1;d>=6;d--)u.push("ios-gt-"+d);t.statusBar?u.push("with-statusbar-overlay"):e("html").removeClass("with-statusbar-overlay"),u.length>0&&e("html").addClass(u.join(" ")),e.device=t}($),+function(e){"use strict";var t=function(t){function n(){var t=!1;return c.params.convertToPopover||c.params.onlyInPopover?(!c.inline&&c.params.input&&(c.params.onlyInPopover?t=!0:e.device.ios?t=!!e.device.ipad:e(window).width()>=768&&(t=!0)),t):t}function i(){return!!(c.opened&&c.container&&c.container.length>0&&c.container.parents(".popover").length>0)}function a(){if(c.opened)for(var e=0;e<c.cols.length;e++)c.cols[e].divider||(c.cols[e].calcSize(),c.cols[e].setValue(c.cols[e].value,0,!1))}function o(e){if(e.preventDefault(),!c.opened&&(c.open(),c.params.scrollToInput&&!n())){var t=c.input.parents(".content");if(0===t.length)return;var i,a=parseInt(t.css("padding-top"),10),o=parseInt(t.css("padding-bottom"),10),r=t[0].offsetHeight-a-c.container.height(),s=t[0].scrollHeight-a-c.container.height(),l=c.input.offset().top-a+c.input[0].offsetHeight;if(l>r){var u=t.scrollTop()+l-r;u+r>s&&(i=u+r-s+o,r===s&&(i=c.container.height()),t.css({"padding-bottom":i+"px"})),t.scrollTop(u,300)}}}function r(t){i()||(c.input&&c.input.length>0?t.target!==c.input[0]&&0===e(t.target).parents(".weui-picker-modal").length&&c.close():0===e(t.target).parents(".weui-picker-modal").length&&c.close())}function s(){c.opened=!1,c.input&&c.input.length>0&&c.input.parents(".page-content").css({"padding-bottom":""}),c.params.onClose&&c.params.onClose(c),c.container.find(".picker-items-col").each(function(){c.destroyPickerCol(this)})}var c=this,l={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"完成",title:"请选择",toolbarTemplate:'<div class="toolbar">          <div class="toolbar-inner">          <a href="javascript:;" class="picker-button close-picker">{{closeText}}</a>          <h1 class="title">{{title}}</h1>          </div>          </div>'};t=t||{};for(var u in l)"undefined"==typeof t[u]&&(t[u]=l[u]);c.params=t,c.cols=[],c.initialized=!1,c.inline=!!c.params.container;var p=e.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!e.device.android;return c.setValue=function(e,t){for(var n=0,i=0;i<c.cols.length;i++)c.cols[i]&&!c.cols[i].divider&&(c.cols[i].setValue(e[n],t),n++)},c.updateValue=function(){for(var t=[],n=[],i=0;i<c.cols.length;i++)c.cols[i].divider||(t.push(c.cols[i].value),n.push(c.cols[i].displayValue));t.indexOf(void 0)>=0||(c.value=t,c.displayValue=n,c.params.onChange&&c.params.onChange(c,c.value,c.displayValue),c.input&&c.input.length>0&&(e(c.input).val(c.params.formatValue?c.params.formatValue(c,c.value,c.displayValue):c.value.join(" ")),e(c.input).trigger("change")))},c.initPickerCol=function(t,n){function i(){w=e.requestAnimationFrame(function(){d.updateItems(void 0,void 0,0),i()})}function a(t){if(!x&&!y){t.preventDefault(),y=!0;var n=e.getTouchPosition(t);k=b=n.y,T=(new Date).getTime(),L=!0,C=D=e.getTranslate(d.wrapper[0],"y")}}function o(t){if(y){t.preventDefault(),L=!1;var n=e.getTouchPosition(t);b=n.y,x||(e.cancelAnimationFrame(w),x=!0,C=D=e.getTranslate(d.wrapper[0],"y"),d.wrapper.transition(0)),t.preventDefault();var i=b-k;D=C+i,M=void 0,v>D&&(D=v-Math.pow(v-D,.8),M="min"),D>g&&(D=g+Math.pow(D-g,.8),M="max"),d.wrapper.transform("translate3d(0,"+D+"px,0)"),d.updateItems(void 0,D,0,c.params.updateValuesOnTouchmove),E=D-S||D,I=(new Date).getTime(),S=D}}function r(t){if(!y||!x)return void(y=x=!1);y=x=!1,d.wrapper.transition(""),M&&("min"===M?d.wrapper.transform("translate3d(0,"+v+"px,0)"):d.wrapper.transform("translate3d(0,"+g+"px,0)")),_=(new Date).getTime();var n,a;_-T>300?a=D:(n=Math.abs(E/(_-I)),a=D+E*c.params.momentumRatio),a=Math.max(Math.min(a,g),v);var o=-Math.floor((a-g)/f);c.params.freeMode||(a=-o*f+g),d.wrapper.transform("translate3d(0,"+parseInt(a,10)+"px,0)"),d.updateItems(o,a,"",!0),c.params.updateValuesOnMomentum&&(i(),d.wrapper.transitionEnd(function(){e.cancelAnimationFrame(w)})),setTimeout(function(){L=!0},100)}function s(t){if(L){e.cancelAnimationFrame(w);var n=e(this).attr("data-picker-value");d.setValue(n)}}var l=e(t),u=l.index(),d=c.cols[u];if(!d.divider){d.container=l,d.wrapper=d.container.find(".picker-items-col-wrapper"),d.items=d.wrapper.find(".picker-item");var h,f,m,v,g;d.replaceValues=function(e,t){d.destroyEvents(),d.values=e,d.displayValues=t;var n=c.columnHTML(d,!0);d.wrapper.html(n),d.items=d.wrapper.find(".picker-item"),d.calcSize(),d.setValue(d.values[0]||"",0,!0),d.initEvents()},d.calcSize=function(){if(d.values.length){c.params.rotateEffect&&(d.container.removeClass("picker-items-col-absolute"),d.width||d.container.css({width:""}));var t,n;t=0,n=d.container[0].offsetHeight,h=d.wrapper[0].offsetHeight,f=d.items[0].offsetHeight,m=f*d.items.length,v=n/2-m+f/2,g=n/2-f/2,d.width&&(t=d.width,parseInt(t,10)===t&&(t+="px"),d.container.css({width:t})),c.params.rotateEffect&&(d.width||(d.items.each(function(){var n=e(this);n.css({width:"auto"}),t=Math.max(t,n[0].offsetWidth),n.css({width:""})}),d.container.css({width:t+2+"px"})),d.container.addClass("picker-items-col-absolute"))}},d.calcSize(),d.wrapper.transform("translate3d(0,"+g+"px,0)").transition(0);var w;d.setValue=function(t,n,a){"undefined"==typeof n&&(n="");var o=d.wrapper.find('.picker-item[data-picker-value="'+t+'"]').index();if("undefined"==typeof o||-1===o)return void(d.value=d.displayValue=t);var r=-o*f+g;d.wrapper.transition(n),d.wrapper.transform("translate3d(0,"+r+"px,0)"),c.params.updateValuesOnMomentum&&d.activeIndex&&d.activeIndex!==o&&(e.cancelAnimationFrame(w),d.wrapper.transitionEnd(function(){e.cancelAnimationFrame(w)}),i()),d.updateItems(o,r,n,a)},d.updateItems=function(t,n,i,a){"undefined"==typeof n&&(n=e.getTranslate(d.wrapper[0],"y")),"undefined"==typeof t&&(t=-Math.round((n-g)/f)),0>t&&(t=0),t>=d.items.length&&(t=d.items.length-1);var o=d.activeIndex;d.activeIndex=t,d.wrapper.find(".picker-selected").removeClass("picker-selected"),c.params.rotateEffect&&d.items.transition(i);var r=d.items.eq(t).addClass("picker-selected").transform("");(a||"undefined"==typeof a)&&(d.value=r.attr("data-picker-value"),d.displayValue=d.displayValues?d.displayValues[t]:d.value,o!==t&&(d.onChange&&d.onChange(c,d.value,d.displayValue),c.updateValue())),c.params.rotateEffect&&((n-(Math.floor((n-g)/f)*f+g))/f,d.items.each(function(){var t=e(this),i=t.index()*f,a=g-n,o=i-a,r=o/f,s=Math.ceil(d.height/f/2)+1,c=-18*r;c>180&&(c=180),-180>c&&(c=-180),Math.abs(r)>s?t.addClass("picker-item-far"):t.removeClass("picker-item-far"),t.transform("translate3d(0, "+(-n+g)+"px, "+(p?-110:0)+"px) rotateX("+c+"deg)")}))},n&&d.updateItems(0,g,0);var y,x,k,b,T,_,C,M,D,S,E,I,L=!0;d.initEvents=function(t){var n=t?"off":"on";d.container[n](e.touchEvents.start,a),d.container[n](e.touchEvents.move,o),d.container[n](e.touchEvents.end,r),d.items[n]("click",s)},d.destroyEvents=function(){d.initEvents(!0)},d.container[0].f7DestroyPickerCol=function(){d.destroyEvents()},d.initEvents()}},c.destroyPickerCol=function(t){t=e(t),"f7DestroyPickerCol"in t[0]&&t[0].f7DestroyPickerCol()},e(window).on("resize",a),c.columnHTML=function(e,t){var n="",i="";if(e.divider)i+='<div class="picker-items-col picker-items-col-divider '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'">'+e.content+"</div>";else{for(var a=0;a<e.values.length;a++)n+='<div class="picker-item" data-picker-value="'+e.values[a]+'">'+(e.displayValues?e.displayValues[a]:e.values[a])+"</div>";i+='<div class="picker-items-col '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'"><div class="picker-items-col-wrapper">'+n+"</div></div>"}return t?n:i},c.layout=function(){var e,t="",n="";c.cols=[];var i="";for(e=0;e<c.params.cols.length;e++){var a=c.params.cols[e];i+=c.columnHTML(c.params.cols[e]),c.cols.push(a)}n="weui-picker-modal picker-columns "+(c.params.cssClass||"")+(c.params.rotateEffect?" picker-3d":"")+(1===c.params.cols.length?" picker-columns-single":""),t='<div class="'+n+'">'+(c.params.toolbar?c.params.toolbarTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText).replace(/{{title}}/g,c.params.title):"")+'<div class="picker-modal-inner picker-items">'+i+'<div class="picker-center-highlight"></div></div></div>',c.pickerHTML=t},c.params.input&&(c.input=e(c.params.input),c.input.length>0&&(c.params.inputReadOnly&&c.input.prop("readOnly",!0),c.inline||c.input.on("click",o),c.params.inputReadOnly&&c.input.on("focus mousedown",function(e){e.preventDefault()}))),c.inline||e("html").on("click",r),c.opened=!1,c.open=function(){var t=n();c.opened||(c.layout(),t?(c.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+c.pickerHTML+"</div></div>",c.popover=e.popover(c.pickerHTML,c.params.input,!0),c.container=e(c.popover).find(".weui-picker-modal"),e(c.popover).on("close",function(){s()})):c.inline?(c.container=e(c.pickerHTML),c.container.addClass("picker-modal-inline"),e(c.params.container).append(c.container)):(c.container=e(e.openPicker(c.pickerHTML)),e(c.container).on("close",function(){s()})),c.container[0].f7Picker=c,c.container.find(".picker-items-col").each(function(){var e=!0;(!c.initialized&&c.params.value||c.initialized&&c.value)&&(e=!1),c.initPickerCol(this,e)}),c.initialized?c.value&&c.setValue(c.value,0):c.params.value&&c.setValue(c.params.value,0)),c.opened=!0,c.initialized=!0,c.params.onOpen&&c.params.onOpen(c)},c.close=function(t){return c.opened&&!c.inline?i()?void e.closePicker(c.popover):void e.closePicker(c.container):void 0},c.destroy=function(){c.close(),c.params.input&&c.input.length>0&&(c.input.off("click focus",o),e(c.input).data("picker",null)),e("html").off("click",r),e(window).off("resize",a)},c.inline&&c.open(),c};e(document).on("click",".close-picker",function(){var t=e(".weui-picker-modal.weui-picker-modal-visible");t.length>0&&e.closePicker(t)}),e(document).on(e.touchEvents.move,".picker-modal-inner",function(e){e.preventDefault()}),e.openPicker=function(t,n,i){"function"==typeof n&&(i=n,n=void 0),e.closePicker();var a=e("<div class='weui-picker-container "+(n||"")+"'></div>").appendTo(document.body);a.show(),a.addClass("weui-picker-container-visible");var o=e(t).appendTo(a);return o.width(),o.addClass("weui-picker-modal-visible"),i&&a.on("close",i),o},e.updatePicker=function(t){var n=e(".weui-picker-container-visible");if(!n[0])return!1;n.html("");var i=e(t).appendTo(n);return i.addClass("weui-picker-modal-visible"),i},e.closePicker=function(t,n){"function"==typeof t&&(n=t),e(".weui-picker-modal-visible").removeClass("weui-picker-modal-visible").transitionEnd(function(){e(this).parent().remove(),n&&n()}).trigger("close")},e.fn.picker=function(n){var i=arguments;return this.each(function(){if(this){var a=e(this),o=a.data("picker");if(!o){n=n||{};var r=a.val();void 0===n.value&&""!==r&&(n.value=n.cols&&n.cols.length>1?r.split(" "):[r]);var s=e.extend({input:this},n);o=new t(s),a.data("picker",o)}"string"==typeof n&&o[n].apply(o,Array.prototype.slice.call(i,1))}})}}($),+function(e){"use strict";var t,n=[],i=function(t,i){this.config=i,this.data={values:"",titles:"",origins:[],length:0},this.$input=e(t),this.$input.prop("readOnly",!0),this.initConfig(),i=this.config,this.$input.click(e.proxy(this.open,this)),n.push(this)};i.prototype.initConfig=function(){this.config=e.extend({},t,this.config);var n=this.config;n.items&&n.items.length&&(n.items=n.items.map(function(e,t){return"string"==typeof e?{title:e,value:e}:e}),this.tpl=e.t7.compile("<div class='weui-picker-modal weui-select-modal'>"+n.toolbarTemplate+(n.multi?n.checkboxTemplate:n.radioTemplate)+"</div>"),void 0!==n.input&&this.$input.val(n.input),this.parseInitValue(),this._init=!0)},i.prototype.updateInputValue=function(e,t){var n,i;this.config.multi?(n=e.join(this.config.split),i=t.join(this.config.split)):(n=e[0],i=t[0]);var a=[];this.config.items.forEach(function(t){e.each(function(e,n){t.value==n&&a.push(t)})}),this.$input.val(i).data("values",n),this.$input.attr("value",i).attr("data-values",n);var o={values:n,titles:i,valuesArray:e,titlesArray:t,origins:a,length:a.length};this.data=o,this.$input.trigger("change",o),this.config.onChange&&this.config.onChange.call(this,o)},i.prototype.parseInitValue=function(){var e=this.$input.val(),t=this.config.items;if(this._init||void 0!==e&&null!=e&&""!==e)for(var n=this.config.multi?e.split(this.config.split):[e],i=0;i<t.length;i++){t[i].checked=!1;for(var a=0;a<n.length;a++)t[i].title===n[a]&&(t[i].checked=!0)}},i.prototype._bind=function(t){var n=this,i=this.config;t.on("change",function(a){var o=t.find("input:checked"),r=o.map(function(){return e(this).val()}),s=o.map(function(){return e(this).data("title")});n.updateInputValue(r,s),i.autoClose&&!i.multi&&n.close()}).on("click",".close-select",function(){n.close()})},i.prototype.update=function(t){this.config=e.extend({},this.config,t),this.initConfig(),this._open&&this._bind(e.updatePicker(this.getHTML()))},i.prototype.open=function(t,i){if(!this._open){for(var a=0;a<n.length;a++){var o=n[a];if(o!==this&&o._open&&!o.close())return!1}this.parseInitValue();var r=this.config,s=this.dialog=e.openPicker(this.getHTML());this._bind(s),this._open=!0,r.onOpen&&r.onOpen(this)}},i.prototype.close=function(t,n){if(!this._open)return!1;var i=this,a=this.config.beforeClose;if(!n){if(a&&"function"==typeof a&&a.call(this,this.data.values,this.data.titles)===!1)return!1;if(this.config.multi){if(void 0!==this.config.min&&this.data.length<this.config.min)return e.toast("请至少选择"+this.config.min+"个","text"),!1;if(void 0!==this.config.max&&this.data.length>this.config.max)return e.toast("最多只能选择"+this.config.max+"个","text"),!1}}return e.closePicker(function(){i.onClose(),t&&t()}),!0},i.prototype.onClose=function(){this._open=!1,this.config.onClose&&this.config.onClose(this)},i.prototype.getHTML=function(e){var t=this.config;return this.tpl({items:t.items,title:t.title,closeText:t.closeText})},e.fn.select=function(t,n){return this.each(function(){var a=e(this);a.data("weui-select")||a.data("weui-select",new i(this,t));var o=a.data("weui-select");return"string"==typeof t&&o[t].call(o,n),o})},t=e.fn.select.prototype.defaults={items:[],input:void 0,title:"请选择",multi:!1,closeText:"确定",autoClose:!0,onChange:void 0,beforeClose:void 0,onClose:void 0,onOpen:void 0,split:",",min:void 0,max:void 0,toolbarTemplate:'<div class="toolbar">      <div class="toolbar-inner">      <a href="javascript:;" class="picker-button close-select">{{closeText}}</a>      <h1 class="title">{{title}}</h1>      </div>      </div>',radioTemplate:'<div class="weui-cells weui-cells_radio">        {{#items}}        <label class="weui-cell weui-check_label" for="weui-select-id-{{this.title}}">          <div class="weui-cell__bd weui-cell_primary">            <p>{{this.title}}</p>          </div>          <div class="weui-cell__ft">            <input type="radio" class="weui-check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}">            <span class="weui-icon-checked"></span>          </div>        </label>        {{/items}}      </div>',checkboxTemplate:'<div class="weui-cells weui-cells_checkbox">        {{#items}}        <label class="weui-cell weui-check_label" for="weui-select-id-{{this.title}}">          <div class="weui-cell__bd weui-cell_primary">            <p>{{this.title}}</p>          </div>          <div class="weui-cell__ft">            <input type="checkbox" class="weui-check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}" >            <span class="weui-icon-checked"></span>          </div>        </label>        {{/items}}      </div>'}}($),+function(e){"use strict";var t,n=!1,i=function(e,t){var e=new Date(e),t=new Date(t);return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},a=function(a){function o(){var t=!1;return p.params.convertToPopover||p.params.onlyInPopover?(!p.inline&&p.params.input&&(p.params.onlyInPopover?t=!0:e.device.ios?t=!!e.device.ipad:e(window).width()>=768&&(t=!0)),t):t}function r(){return!!(p.opened&&p.container&&p.container.length>0&&p.container.parents(".popover").length>0)}function s(e){e=new Date(e);var t=e.getFullYear(),n=e.getMonth(),i=n+1,a=e.getDate(),o=e.getDay();return p.params.dateFormat.replace(/yyyy/g,t).replace(/yy/g,(t+"").substring(2)).replace(/mm/g,10>i?"0"+i:i).replace(/m/g,i).replace(/MM/g,p.params.monthNames[n]).replace(/M/g,p.params.monthNamesShort[n]).replace(/dd/g,10>a?"0"+a:a).replace(/d/g,a).replace(/DD/g,p.params.dayNames[o]).replace(/D/g,p.params.dayNamesShort[o])}function c(e){if(e.preventDefault(),!p.opened&&(p.open(),p.params.scrollToInput&&!o())){var t=p.input.parents(".page-content");if(0===t.length)return;var n,i=parseInt(t.css("padding-top"),10),a=parseInt(t.css("padding-bottom"),10),r=t[0].offsetHeight-i-p.container.height(),s=t[0].scrollHeight-i-p.container.height(),c=p.input.offset().top-i+p.input[0].offsetHeight;if(c>r){var l=t.scrollTop()+c-r;l+r>s&&(n=l+r-s+a,r===s&&(n=p.container.height()),t.css({"padding-bottom":n+"px"})),t.scrollTop(l,300)}}}function l(t){r()||(p.input&&p.input.length>0?t.target!==p.input[0]&&0===e(t.target).parents(".weui-picker-modal").length&&p.close():0===e(t.target).parents(".weui-picker-modal").length&&p.close())}function u(){p.opened=!1,p.input&&p.input.length>0&&p.input.parents(".page-content").css({"padding-bottom":""}),p.params.onClose&&p.params.onClose(p),p.destroyCalendarEvents()}var p=this;a=a||{};for(var d in t)"undefined"==typeof a[d]&&(a[d]=t[d]);p.params=a,p.initialized=!1,p.inline=!!p.params.container,p.isH="horizontal"===p.params.direction;var h=p.isH&&n?-1:1;return p.animating=!1,p.addValue=function(e){if(p.params.multiple){p.value||(p.value=[]);for(var t,n=0;n<p.value.length;n++)i(e,p.value[n])&&(t=n);"undefined"==typeof t?p.value.push(e):p.value.splice(t,1),p.updateValue()}else p.value=[e],p.updateValue()},p.setValue=function(e){var t=new Date(e[0]);p.setYearMonth(t.getFullYear(),t.getMonth()),p.addValue(+t)},p.updateValue=function(){p.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var t,n;for(t=0;t<p.value.length;t++){var i=new Date(p.value[t]);p.wrapper.find('.picker-calendar-day[data-date="'+i.getFullYear()+"-"+i.getMonth()+"-"+i.getDate()+'"]').addClass("picker-calendar-day-selected")}if(p.params.onChange&&p.params.onChange(p,p.value.map(s),p.value.map(function(e){return+new Date("string"==typeof e?e.split(/\D/).filter(function(e){return!!e}).join("-"):e)})),p.input&&p.input.length>0){if(p.params.formatValue)n=p.params.formatValue(p,p.value);else{for(n=[],t=0;t<p.value.length;t++)n.push(s(p.value[t]));n=n.join(", ")}e(p.input).val(n),e(p.input).trigger("change")}},p.initCalendarEvents=function(){function t(t){if(!s&&!r){r=!0;var n=e.getTouchPosition(t);c=d=n.x,l=d=n.y,f=(new Date).getTime(),x=0,T=!0,b=void 0,v=g=p.monthsTranslate}}function i(t){if(r){var n=e.getTouchPosition(t);if(u=n.x,d=n.y,"undefined"==typeof b&&(b=!!(b||Math.abs(d-l)>Math.abs(u-c))),p.isH&&b)return void(r=!1);if(t.preventDefault(),p.animating)return void(r=!1);T=!1,s||(s=!0,w=p.wrapper[0].offsetWidth,y=p.wrapper[0].offsetHeight,p.wrapper.transition(0)),t.preventDefault(),k=p.isH?u-c:d-l,x=k/(p.isH?w:y),g=100*(p.monthsTranslate*h+x),p.wrapper.transform("translate3d("+(p.isH?g:0)+"%, "+(p.isH?0:g)+"%, 0)")}}function a(e){return r&&s?(r=s=!1,m=(new Date).getTime(),300>m-f?Math.abs(k)<10?p.resetMonth():k>=10?n?p.nextMonth():p.prevMonth():n?p.prevMonth():p.nextMonth():-.5>=x?n?p.prevMonth():p.nextMonth():x>=.5?n?p.nextMonth():p.prevMonth():p.resetMonth(),void setTimeout(function(){T=!0},100)):void(r=s=!1)}function o(t){if(T){var n=e(t.target).parents(".picker-calendar-day");if(0===n.length&&e(t.target).hasClass("picker-calendar-day")&&(n=e(t.target)),0!==n.length&&!n.hasClass("picker-calendar-day-disabled")){n.hasClass("picker-calendar-day-next")&&p.nextMonth(),n.hasClass("picker-calendar-day-prev")&&p.prevMonth();var i=n.attr("data-year"),a=n.attr("data-month"),o=n.attr("data-day");p.params.onDayClick&&p.params.onDayClick(p,n[0],i,a,o),p.addValue(new Date(i,a,o).getTime()),p.params.closeOnSelect&&!p.params.multiple&&p.close()}}}var r,s,c,l,u,d,f,m,v,g,w,y,x,k,b,T=!0;p.container.find(".picker-calendar-prev-month").on("click",p.prevMonth),p.container.find(".picker-calendar-next-month").on("click",p.nextMonth),p.container.find(".picker-calendar-prev-year").on("click",p.prevYear),p.container.find(".picker-calendar-next-year").on("click",p.nextYear),p.wrapper.on("click",o),p.params.touchMove&&(p.wrapper.on(e.touchEvents.start,t),p.wrapper.on(e.touchEvents.move,i),p.wrapper.on(e.touchEvents.end,a)),p.container[0].f7DestroyCalendarEvents=function(){p.container.find(".picker-calendar-prev-month").off("click",p.prevMonth),p.container.find(".picker-calendar-next-month").off("click",p.nextMonth),p.container.find(".picker-calendar-prev-year").off("click",p.prevYear),p.container.find(".picker-calendar-next-year").off("click",p.nextYear),p.wrapper.off("click",o),p.params.touchMove&&(p.wrapper.off(e.touchEvents.start,t),p.wrapper.off(e.touchEvents.move,i),p.wrapper.off(e.touchEvents.end,a))}},p.destroyCalendarEvents=function(e){"f7DestroyCalendarEvents"in p.container[0]&&p.container[0].f7DestroyCalendarEvents()},p.daysInMonth=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},p.monthHTML=function(e,t){e=new Date(e);var n=e.getFullYear(),i=e.getMonth();e.getDate(),"next"===t&&(e=11===i?new Date(n+1,0):new Date(n,i+1,1)),"prev"===t&&(e=0===i?new Date(n-1,11):new Date(n,i-1,1)),"next"!==t&&"prev"!==t||(i=e.getMonth(),n=e.getFullYear());var a=p.daysInMonth(new Date(e.getFullYear(),e.getMonth()).getTime()-864e6),o=p.daysInMonth(e),r=new Date(e.getFullYear(),e.getMonth()).getDay();0===r&&(r=7);var s,c,l,u=[],d=6,h=7,f="",m=0+(p.params.firstDay-1),v=(new Date).setHours(0,0,0,0),g=p.params.minDate?new Date(p.params.minDate).getTime():null,w=p.params.maxDate?new Date(p.params.maxDate).getTime():null;if(p.value&&p.value.length)for(c=0;c<p.value.length;c++)u.push(new Date(p.value[c]).setHours(0,0,0,0));for(c=1;d>=c;c++){var y="";for(l=1;h>=l;l++){var x=l;m++;var k=m-r,b="";0>k?(k=a+k+1,b+=" picker-calendar-day-prev",s=new Date(0>i-1?n-1:n,0>i-1?11:i-1,k).getTime()):(k+=1,k>o?(k-=o,b+=" picker-calendar-day-next",s=new Date(i+1>11?n+1:n,i+1>11?0:i+1,k).getTime()):s=new Date(n,i,k).getTime()),s===v&&(b+=" picker-calendar-day-today"),u.indexOf(s)>=0&&(b+=" picker-calendar-day-selected"),p.params.weekendDays.indexOf(x-1)>=0&&(b+=" picker-calendar-day-weekend"),(g&&g>s||w&&s>w)&&(b+=" picker-calendar-day-disabled"),s=new Date(s);var T=s.getFullYear(),_=s.getMonth();y+='<div data-year="'+T+'" data-month="'+_+'" data-day="'+k+'" class="picker-calendar-day'+b+'" data-date="'+(T+"-"+_+"-"+k)+'"><span>'+k+"</span></div>"}f+='<div class="picker-calendar-row">'+y+"</div>"}return f='<div class="picker-calendar-month" data-year="'+n+'" data-month="'+i+'">'+f+"</div>"},p.animating=!1,p.updateCurrentMonthYear=function(e){"undefined"==typeof e?(p.currentMonth=parseInt(p.months.eq(1).attr("data-month"),10),p.currentYear=parseInt(p.months.eq(1).attr("data-year"),10)):(p.currentMonth=parseInt(p.months.eq("next"===e?p.months.length-1:0).attr("data-month"),10),p.currentYear=parseInt(p.months.eq("next"===e?p.months.length-1:0).attr("data-year"),10)),p.container.find(".current-month-value").text(p.params.monthNames[p.currentMonth]),p.container.find(".current-year-value").text(p.currentYear)},p.onMonthChangeStart=function(e){p.updateCurrentMonthYear(e),p.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t="next"===e?p.months.length-1:0;p.months.eq(t).addClass("picker-calendar-month-current"),p.months.eq("next"===e?t-1:t+1).addClass("next"===e?"picker-calendar-month-prev":"picker-calendar-month-next"),p.params.onMonthYearChangeStart&&p.params.onMonthYearChangeStart(p,p.currentYear,p.currentMonth)},p.onMonthChangeEnd=function(e,t){p.animating=!1;var n,i,a;p.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),
"undefined"==typeof e&&(e="next",t=!0),t?(p.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),i=p.monthHTML(new Date(p.currentYear,p.currentMonth),"prev"),n=p.monthHTML(new Date(p.currentYear,p.currentMonth),"next")):a=p.monthHTML(new Date(p.currentYear,p.currentMonth),e),("next"===e||t)&&p.wrapper.append(a||n),("prev"===e||t)&&p.wrapper.prepend(a||i),p.months=p.wrapper.find(".picker-calendar-month"),p.setMonthsTranslate(p.monthsTranslate),p.params.onMonthAdd&&p.params.onMonthAdd(p,"next"===e?p.months.eq(p.months.length-1)[0]:p.months.eq(0)[0]),p.params.onMonthYearChangeEnd&&p.params.onMonthYearChangeEnd(p,p.currentYear,p.currentMonth)},p.setMonthsTranslate=function(e){e=e||p.monthsTranslate||0,"undefined"==typeof p.monthsTranslate&&(p.monthsTranslate=e),p.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t=100*-(e+1)*h,n=100*-e*h,i=100*-(e-1)*h;p.months.eq(0).transform("translate3d("+(p.isH?t:0)+"%, "+(p.isH?0:t)+"%, 0)").addClass("picker-calendar-month-prev"),p.months.eq(1).transform("translate3d("+(p.isH?n:0)+"%, "+(p.isH?0:n)+"%, 0)").addClass("picker-calendar-month-current"),p.months.eq(2).transform("translate3d("+(p.isH?i:0)+"%, "+(p.isH?0:i)+"%, 0)").addClass("picker-calendar-month-next")},p.nextMonth=function(t){"undefined"!=typeof t&&"object"!=typeof t||(t="",p.params.animate||(t=0));var n=parseInt(p.months.eq(p.months.length-1).attr("data-month"),10),i=parseInt(p.months.eq(p.months.length-1).attr("data-year"),10),a=new Date(i,n),o=a.getTime(),r=!p.animating;if(p.params.maxDate&&o>new Date(p.params.maxDate).getTime())return p.resetMonth();if(p.monthsTranslate--,n===p.currentMonth){var s=100*-p.monthsTranslate*h,c=e(p.monthHTML(o,"next")).transform("translate3d("+(p.isH?s:0)+"%, "+(p.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next");p.wrapper.append(c[0]),p.months=p.wrapper.find(".picker-calendar-month"),p.params.onMonthAdd&&p.params.onMonthAdd(p,p.months.eq(p.months.length-1)[0])}p.animating=!0,p.onMonthChangeStart("next");var l=100*p.monthsTranslate*h;p.wrapper.transition(t).transform("translate3d("+(p.isH?l:0)+"%, "+(p.isH?0:l)+"%, 0)"),r&&p.wrapper.transitionEnd(function(){p.onMonthChangeEnd("next")}),p.params.animate||p.onMonthChangeEnd("next")},p.prevMonth=function(t){"undefined"!=typeof t&&"object"!=typeof t||(t="",p.params.animate||(t=0));var n=parseInt(p.months.eq(0).attr("data-month"),10),i=parseInt(p.months.eq(0).attr("data-year"),10),a=new Date(i,n+1,-1),o=a.getTime(),r=!p.animating;if(p.params.minDate&&o<new Date(p.params.minDate).getTime())return p.resetMonth();if(p.monthsTranslate++,n===p.currentMonth){var s=100*-p.monthsTranslate*h,c=e(p.monthHTML(o,"prev")).transform("translate3d("+(p.isH?s:0)+"%, "+(p.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev");p.wrapper.prepend(c[0]),p.months=p.wrapper.find(".picker-calendar-month"),p.params.onMonthAdd&&p.params.onMonthAdd(p,p.months.eq(0)[0])}p.animating=!0,p.onMonthChangeStart("prev");var l=100*p.monthsTranslate*h;p.wrapper.transition(t).transform("translate3d("+(p.isH?l:0)+"%, "+(p.isH?0:l)+"%, 0)"),r&&p.wrapper.transitionEnd(function(){p.onMonthChangeEnd("prev")}),p.params.animate||p.onMonthChangeEnd("prev")},p.resetMonth=function(e){"undefined"==typeof e&&(e="");var t=100*p.monthsTranslate*h;p.wrapper.transition(e).transform("translate3d("+(p.isH?t:0)+"%, "+(p.isH?0:t)+"%, 0)")},p.setYearMonth=function(e,t,n){"undefined"==typeof e&&(e=p.currentYear),"undefined"==typeof t&&(t=p.currentMonth),"undefined"!=typeof n&&"object"!=typeof n||(n="",p.params.animate||(n=0));var i;if(i=e<p.currentYear?new Date(e,t+1,-1).getTime():new Date(e,t).getTime(),p.params.maxDate&&i>new Date(p.params.maxDate).getTime())return!1;if(p.params.minDate&&i<new Date(p.params.minDate).getTime())return!1;var a=new Date(p.currentYear,p.currentMonth).getTime(),o=i>a?"next":"prev",r=p.monthHTML(new Date(e,t));p.monthsTranslate=p.monthsTranslate||0;var s,c,l=p.monthsTranslate,u=!p.animating;i>a?(p.monthsTranslate--,p.animating||p.months.eq(p.months.length-1).remove(),p.wrapper.append(r),p.months=p.wrapper.find(".picker-calendar-month"),s=100*-(l-1)*h,p.months.eq(p.months.length-1).transform("translate3d("+(p.isH?s:0)+"%, "+(p.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next")):(p.monthsTranslate++,p.animating||p.months.eq(0).remove(),p.wrapper.prepend(r),p.months=p.wrapper.find(".picker-calendar-month"),s=100*-(l+1)*h,p.months.eq(0).transform("translate3d("+(p.isH?s:0)+"%, "+(p.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev")),p.params.onMonthAdd&&p.params.onMonthAdd(p,"next"===o?p.months.eq(p.months.length-1)[0]:p.months.eq(0)[0]),p.animating=!0,p.onMonthChangeStart(o),c=100*p.monthsTranslate*h,p.wrapper.transition(n).transform("translate3d("+(p.isH?c:0)+"%, "+(p.isH?0:c)+"%, 0)"),u&&p.wrapper.transitionEnd(function(){p.onMonthChangeEnd(o,!0)}),p.params.animate||p.onMonthChangeEnd(o)},p.nextYear=function(){p.setYearMonth(p.currentYear+1)},p.prevYear=function(){p.setYearMonth(p.currentYear-1)},p.layout=function(){var e,t="",n="",i=p.value&&p.value.length?p.value[0]:(new Date).setHours(0,0,0,0),a=p.monthHTML(i,"prev"),o=p.monthHTML(i),r=p.monthHTML(i,"next"),s='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(a+o+r)+"</div></div>",c="";if(p.params.weekHeader){for(e=0;7>e;e++){var l=e+p.params.firstDay>6?e-7+p.params.firstDay:e+p.params.firstDay,u=p.params.dayNamesShort[l];c+='<div class="picker-calendar-week-day '+(p.params.weekendDays.indexOf(l)>=0?"picker-calendar-week-day-weekend":"")+'"> '+u+"</div>"}c='<div class="picker-calendar-week-days">'+c+"</div>"}n="weui-picker-calendar "+(p.params.cssClass||""),p.inline||(n="weui-picker-modal "+n);var d=p.params.toolbar?p.params.toolbarTemplate.replace(/{{closeText}}/g,p.params.toolbarCloseText):"";p.params.toolbar&&(d=p.params.toolbarTemplate.replace(/{{closeText}}/g,p.params.toolbarCloseText).replace(/{{monthPicker}}/g,p.params.monthPicker?p.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,p.params.yearPicker?p.params.yearPickerTemplate:"")),t='<div class="'+n+'">'+d+'<div class="picker-modal-inner">'+c+s+"</div></div>",p.pickerHTML=t},p.params.input&&(p.input=e(p.params.input),p.input.length>0&&(p.params.inputReadOnly&&p.input.prop("readOnly",!0),p.inline||p.input.on("click",c),p.params.inputReadOnly&&p.input.on("focus mousedown",function(e){e.preventDefault()}))),p.inline||e(document).on("click touchend",l),p.opened=!1,p.open=function(){var t=o()&&!1,n=!1;p.opened||(p.value||p.params.value&&(p.value=p.params.value,n=!0),p.layout(),t?(p.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+p.pickerHTML+"</div></div>",p.popover=e.popover(p.pickerHTML,p.params.input,!0),p.container=e(p.popover).find(".weui-picker-modal"),e(p.popover).on("close",function(){u()})):p.inline?(p.container=e(p.pickerHTML),p.container.addClass("picker-modal-inline"),e(p.params.container).append(p.container)):(p.container=e(e.openPicker(p.pickerHTML)),e(p.container).on("close",function(){u()})),p.container[0].f7Calendar=p,p.wrapper=p.container.find(".picker-calendar-months-wrapper"),p.months=p.wrapper.find(".picker-calendar-month"),p.updateCurrentMonthYear(),p.monthsTranslate=0,p.setMonthsTranslate(),p.initCalendarEvents(),n&&p.updateValue()),p.opened=!0,p.initialized=!0,p.params.onMonthAdd&&p.months.each(function(){p.params.onMonthAdd(p,this)}),p.params.onOpen&&p.params.onOpen(p)},p.close=function(){return p.opened&&!p.inline?(p.animating=!1,r()?void e.closePicker(p.popover):void e.closePicker(p.container)):void 0},p.destroy=function(){p.close(),p.params.input&&p.input.length>0&&(p.input.off("click focus",c),p.input.data("calendar",null)),e("html").off("click",l)},p.inline&&p.open(),p},o=function(e){return 10>e?"0"+e:e};e.fn.calendar=function(t,n){return t=t||{},this.each(function(){var i=e(this);if(i[0]){var r={};"INPUT"===i[0].tagName.toUpperCase()?r.input=i:r.container=i;var s=i.data("calendar");if(!s)if("string"==typeof t);else{if(!t.value&&i.val()&&(t.value=[i.val()]),!t.value){var c=new Date;t.value=[c.getFullYear()+"-"+o(c.getMonth()+1)+"-"+o(c.getDate())]}s=i.data("calendar",new a(e.extend(r,t)))}"string"==typeof t&&s[t].call(s,n)}})},t=e.fn.calendar.prototype.defaults={value:void 0,monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><div class="current-month-value"></div><a href="javascript:;" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="javascript:;" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{yearPicker}}{{monthPicker}}</div></div>'}}($),+function(e){"use strict";var t,n=function(e){return 10>e?"0"+e:e},i=function(t,n){this.input=e(t),this.params=n,this.initMonthes="01 02 03 04 05 06 07 08 09 10 11 12".split(" "),this.initYears=function(){for(var e=[],t=1950;2030>=t;t++)e.push(t);return e}();var i=e.extend({},n,this.getConfig());e(this.input).picker(i)};i.prototype={getDays:function(e){for(var t=[],n=1;(e||31)>=n;n++)t.push(10>n?"0"+n:n);return t},getDaysByMonthAndYear:function(e,t){var n=new Date(t,parseInt(e)+1-1,1),i=new Date(n-1);return this.getDays(i.getDate())},getConfig:function(){var e,t=new Date,i=this.params,a=this,o={rotateEffect:!1,cssClass:"datetime-picker",value:[t.getFullYear(),n(t.getMonth()+1),n(t.getDate()),n(t.getHours()),n(t.getMinutes())],onChange:function(t,n,o){var r=(t.cols,a.getDaysByMonthAndYear(n[1],n[0])),s=n[2];s>r.length&&(s=r.length),t.cols[4].setValue(s);var c=new Date(n[0]+"-"+n[1]+"-"+n[2]),l=!0;if(i.min){var u=new Date("function"==typeof i.min?i.min():i.min);+u>c&&(t.setValue(e),l=!1)}if(i.max){var p=new Date("function"==typeof i.max?i.max():i.max);c>+p&&(t.setValue(e),l=!1)}l&&(e=n),a.params.onChange&&a.params.onChange.apply(this,arguments)},formatValue:function(e,t,n){return a.params.format(e,t,n)},cols:[{values:function(){for(var e=[],t=1950;2050>=t;t++)e.push(t);return e}()},{divider:!0,content:i.yearSplit},{values:["01","02","03","04","05","06","07","08","09","10","11","12"]},{divider:!0,content:i.monthSplit},{values:function(){for(var e=[],t=1;31>=t;t++)e.push(n(t));return e}()}]};i.dateSplit&&o.cols.push({divider:!0,content:i.dateSplit}),o.cols.push({divider:!0,content:i.datetimeSplit});var r=a.params.times();r&&r.length&&(o.cols=o.cols.concat(r));var s=this.input.val();return s&&(o.value=i.parse(s)),this.params.value&&(this.input.val(this.params.value),o.value=i.parse(this.params.value)),o}},e.fn.datetimePicker=function(n){return n=e.extend({},t,n),this.each(function(){if(this){var t=e(this),a=t.data("datetime");return a||t.data("datetime",new i(this,n)),a}})},t=e.fn.datetimePicker.prototype.defaults={input:void 0,min:void 0,max:void 0,yearSplit:"-",monthSplit:"-",dateSplit:"",datetimeSplit:" ",times:function(){return[{values:function(){for(var e=[],t=0;24>t;t++)e.push(n(t));return e}()},{divider:!0,content:":"},{values:function(){for(var e=[],t=0;60>t;t++)e.push(n(t));return e}()}]},format:function(e,t){return e.cols.map(function(e){return e.value||e.content}).join("")},parse:function(e){var t=e.split(this.datetimeSplit);return t[0].split(/\D/).concat(t[1].split(/:|时|分|秒/)).filter(function(e){return!!e})}}}($),+function(e){"use strict";e.openPopup=function(t,n){e.closePopup(),t=e(t),t.show(),t.width(),t.addClass("weui-popup__container--visible");var i=t.find(".weui-popup__modal");i.width(),i.transitionEnd(function(){i.trigger("open")})},e.closePopup=function(t,n){t=e(t||".weui-popup__container--visible"),t.find(".weui-popup__modal").transitionEnd(function(){var i=e(this);i.trigger("close"),t.hide(),n&&t.remove()}),t.removeClass("weui-popup__container--visible")},e(document).on("click",".close-popup, .weui-popup__overlay",function(){e.closePopup()}).on("click",".open-popup",function(){e(e(this).data("target")).popup()}).on("click",".weui-popup__container",function(t){e(t.target).hasClass("weui-popup__container")&&e.closePopup()}),e.fn.popup=function(){return this.each(function(){e.openPopup(this)})}}($),+function(e){"use strict";var t,n,i,a,o,r,s=function(n){var i=e.getTouchPosition(n);a=i,o=r=0,t.addClass("touching")},c=function(n){if(!a)return!1;n.preventDefault(),n.stopPropagation();var i=e.getTouchPosition(n);o=i.x-a.x,r=i.y-a.y,r>0&&(r=Math.sqrt(r)),t.css("transform","translate3d(0, "+r+"px, 0)")},l=function(){t.removeClass("touching"),t.attr("style",""),0>r&&Math.abs(r)>.38*t.height()&&e.closeNotification(),Math.abs(o)<=1&&Math.abs(r)<=1&&t.trigger("noti-click"),a=!1},u=function(t){t.on(e.touchEvents.start,s),t.on(e.touchEvents.move,c),t.on(e.touchEvents.end,l)};e.notification=e.noti=function(a){a=e.extend({},n,a),t=e(".weui-notification"),t[0]||(t=e('<div class="weui-notification"></div>').appendTo(document.body),u(t)),t.off("noti-click"),a.onClick&&t.on("noti-click",function(){a.onClick(a.data)}),t.html(e.t7.compile(a.tpl)(a)),t.show(),t.addClass("weui-notification--in"),t.data("params",a);var o=function(){i&&(clearTimeout(i),i=null),i=setTimeout(function(){t.hasClass("weui-notification--touching")?o():e.closeNotification()},a.time)};o()},e.closeNotification=function(){i&&clearTimeout(i),i=null;var t=e(".weui-notification").removeClass("weui-notification--in").transitionEnd(function(){e(this).remove()});if(t[0]){var n=e(".weui-notification").data("params");n&&n.onClose&&n.onClose(n.data)}},n=e.noti.prototype.defaults={title:void 0,text:void 0,media:void 0,time:4e3,onClick:void 0,onClose:void 0,data:void 0,tpl:'<div class="weui-notification__inner">{{#if media}}<div class="weui-notification__media">{{media}}</div>{{/if}}<div class="weui-notification__content">{{#if title}}<div class="weui-notification__title">{{title}}</div>{{/if}}{{#if text}}<div class="weui-notification__text">{{text}}</div>{{/if}}</div><div class="weui-notification__handle-bar"></div></div>'}}($),+function(e){"use strict";var t;e.toptip=function(n,i,a){if(n){"string"==typeof i&&(a=i,i=void 0),i=i||3e3;var o=a?"bg-"+a:"bg-danger",r=e(".weui-toptips").remove();r=e('<div class="weui-toptips"></div>').appendTo(document.body),r.html(n),r[0].className="weui-toptips "+o,clearTimeout(t),r.hasClass("weui-toptips_visible")||(r.show().width(),r.addClass("weui-toptips_visible")),t=setTimeout(function(){r.removeClass("weui-toptips_visible").transitionEnd(function(){r.remove()})},i)}}}($),+function(e){"use strict";var t=function(t,n){this.container=e(t),this.handler=this.container.find(".weui-slider__handler"),this.track=this.container.find(".weui-slider__track"),this.value=this.container.find(".weui-slider-box__value"),this.bind(),"function"==typeof n&&(this.callback=n)};t.prototype.bind=function(){this.container.on(e.touchEvents.start,e.proxy(this.touchStart,this)).on(e.touchEvents.end,e.proxy(this.touchEnd,this)),e(document.body).on(e.touchEvents.move,e.proxy(this.touchMove,this))},t.prototype.touchStart=function(t){t.preventDefault(),this.start=e.getTouchPosition(t),this.width=this.container.find(".weui-slider__inner").width(),this.left=parseInt(this.container.find(".weui-slider__handler").css("left")),this.touching=!0},t.prototype.touchMove=function(t){if(!this.touching)return!0;var n=e.getTouchPosition(t),i=n.x-this.start.x,a=i+this.left,o=parseInt(a/this.width*100);0>o&&(o=0),o>100&&(o=100),this.handler.css("left",o+"%"),this.track.css("width",o+"%"),this.value.text(o),this.callback&&this.callback.call(this,o),this.container.trigger("change",o)},t.prototype.touchEnd=function(e){this.touching=!1},e.fn.slider=function(n){this.each(function(){var i=e(this),a=i.data("slider");return a?a:void i.data("slider",new t(this,n))})}}($),!function(e,t){"function"==typeof define&&(define.amd||define.cmd)?define(function(){return t(e)}):t(e,!0)}(this,function(e,t){function n(t,n,i){e.WeixinJSBridge?WeixinJSBridge.invoke(t,a(n),function(e){r(t,e,i)}):l(t,i)}function i(t,n,i){e.WeixinJSBridge?WeixinJSBridge.on(t,function(e){i&&i.trigger&&i.trigger(e),r(t,e,n)}):i?l(t,i):l(t,n)}function a(e){return e=e||{},e.appId=I.appId,e.verifyAppId=I.appId,e.verifySignType="sha1",e.verifyTimestamp=I.timestamp+"",e.verifyNonceStr=I.nonceStr,e.verifySignature=I.signature,e}function o(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function r(e,t,n){var i,a,o;switch(delete t.err_code,delete t.err_desc,delete t.err_detail,i=t.errMsg,i||(i=t.err_msg,delete t.err_msg,i=s(e,i),t.errMsg=i),n=n||{},n._complete&&(n._complete(t),delete n._complete),i=t.errMsg||"",I.debug&&!n.isInnerInvoke&&alert(JSON.stringify(t)),a=i.indexOf(":"),o=i.substring(a+1)){case"ok":n.success&&n.success(t);break;case"cancel":n.cancel&&n.cancel(t);break;default:n.fail&&n.fail(t)}n.complete&&n.complete(t)}function s(e,t){var n,i,a=e,o=m[a];return o&&(a=o),n="ok",t&&(i=t.indexOf(":"),n=t.substring(i+1),"confirm"==n&&(n="ok"),"failed"==n&&(n="fail"),-1!=n.indexOf("failed_")&&(n=n.substring(7)),-1!=n.indexOf("fail_")&&(n=n.substring(5)),n=n.replace(/_/g," "),n=n.toLowerCase(),("access denied"==n||"no permission to execute"==n)&&(n="permission denied"),"config"==a&&"function not exist"==n&&(n="ok"),""==n&&(n="fail")),t=a+":"+n}function c(e){var t,n,i,a;if(e){for(t=0,n=e.length;n>t;++t)i=e[t],a=f[i],a&&(e[t]=a);return e}}function l(e,t){if(!(!I.debug||t&&t.isInnerInvoke)){var n=m[e];n&&(e=n),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function u(){0!=E.preVerifyState&&(x||k||I.debug||"6.0.2">C||E.systemType<0||M||(M=!0,E.appId=I.appId,E.initTime=S.initEndTime-S.initStartTime,E.preVerifyTime=S.preVerifyEndTime-S.preVerifyStartTime,O.getNetworkType({isInnerInvoke:!0,success:function(e){var t,n;E.networkType=e.networkType,t="http://open.weixin.qq.com/sdk/report?v="+E.version+"&o="+E.preVerifyState+"&s="+E.systemType+"&c="+E.clientVersion+"&a="+E.appId+"&n="+E.networkType+"&i="+E.initTime+"&p="+E.preVerifyTime+"&u="+E.url,n=new Image,n.src=t}})))}function p(){return(new Date).getTime()}function d(t){b&&(e.WeixinJSBridge?t():v.addEventListener&&v.addEventListener("WeixinJSBridgeReady",t,!1))}function h(){O.invoke||(O.invoke=function(t,n,i){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,a(n),i)},O.on=function(t,n){e.WeixinJSBridge&&WeixinJSBridge.on(t,n)})}var f,m,v,g,w,y,x,k,b,T,_,C,M,D,S,E,I,L,A,O;if(!e.jWeixin)return f={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},m=function(){var e,t={};for(e in f)t[f[e]]=e;return t}(),v=e.document,g=v.title,w=navigator.userAgent.toLowerCase(),y=navigator.platform.toLowerCase(),x=!(!y.match("mac")&&!y.match("win")),k=-1!=w.indexOf("wxdebugger"),b=-1!=w.indexOf("micromessenger"),T=-1!=w.indexOf("android"),_=-1!=w.indexOf("iphone")||-1!=w.indexOf("ipad"),C=function(){var e=w.match(/micromessenger\/(\d+\.\d+\.\d+)/)||w.match(/micromessenger\/(\d+\.\d+)/);return e?e[1]:""}(),M=!1,D=!1,S={initStartTime:p(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},E={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",preVerifyState:1,systemType:_?1:T?2:-1,clientVersion:C,url:encodeURIComponent(location.href)},I={},L={_completes:[]},A={state:0,data:{}},d(function(){S.initEndTime=p()}),O={config:function(e){I=e,l("config",e);var t=I.check!==!1;d(function(){var e,i,a;if(t)n(f.config,{verifyJsApiList:c(I.jsApiList)},function(){L._complete=function(e){S.preVerifyEndTime=p(),A.state=1,A.data=e},L.success=function(){E.preVerifyState=0},L.fail=function(e){L._fail?L._fail(e):A.state=-1};var e=L._completes;return e.push(function(){u()}),L.complete=function(){for(var t=0,n=e.length;n>t;++t)e[t]();L._completes=[]},L}()),S.preVerifyStartTime=p();else{for(A.state=1,e=L._completes,i=0,a=e.length;a>i;++i)e[i]();L._completes=[]}}),I.beta&&h()},ready:function(e){0!=A.state?e():(L._completes.push(e),!b&&I.debug&&e())},error:function(e){"6.0.2">C||D||(D=!0,-1==A.state?e(A.data):L._fail=e)},checkJsApi:function(e){var t=function(e){var t,n,i=e.checkResult;for(t in i)n=m[t],n&&(i[n]=i[t],delete i[t]);return e};n("checkJsApi",{jsApiList:c(e.jsApiList)},function(){return e._complete=function(e){if(T){var n=e.checkResult;n&&(e.checkResult=JSON.parse(n))}e=t(e)},e}())},onMenuShareTimeline:function(e){i(f.onMenuShareTimeline,{complete:function(){n("shareTimeline",{title:e.title||g,desc:e.title||g,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){i(f.onMenuShareAppMessage,{complete:function(){n("sendAppMessage",{title:e.title||g,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){i(f.onMenuShareQQ,{complete:function(){n("shareQQ",{title:e.title||g,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){i(f.onMenuShareWeibo,{complete:function(){n("shareWeiboApp",{title:e.title||g,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){i(f.onMenuShareQZone,{complete:function(){n("shareQZone",{title:e.title||g,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},startRecord:function(e){n("startRecord",{},e)},stopRecord:function(e){n("stopRecord",{},e)},onVoiceRecordEnd:function(e){i("onVoiceRecordEnd",e)},playVoice:function(e){n("playVoice",{localId:e.localId},e)},pauseVoice:function(e){n("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){n("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){i("onVoicePlayEnd",e)},uploadVoice:function(e){n("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){n("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){n("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){n("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},function(){return e._complete=function(e){if(T){var t=e.localIds;t&&(e.localIds=JSON.parse(t))}},e}())},previewImage:function(e){n(f.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){n("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){n("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getNetworkType:function(e){var t=function(e){var t,n,i,a=e.errMsg;if(e.errMsg="getNetworkType:ok",t=e.subtype,delete e.subtype,t)e.networkType=t;else switch(n=a.indexOf(":"),i=a.substring(n+1)){case"wifi":case"edge":case"wwan":e.networkType=i;break;default:e.errMsg="getNetworkType:fail"}return e};n("getNetworkType",{},function(){return e._complete=function(e){e=t(e)},e}())},openLocation:function(e){n("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){e=e||{},n(f.getLocation,{type:e.type||"wgs84"},function(){return e._complete=function(e){delete e.type},e}())},hideOptionMenu:function(e){n("hideOptionMenu",{},e)},showOptionMenu:function(e){n("showOptionMenu",{},e)},closeWindow:function(e){e=e||{},n("closeWindow",{},e)},hideMenuItems:function(e){n("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){n("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){n("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){n("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){e=e||{},n("scanQRCode",{needResult:e.needResult||0,scanType:e.scanType||["qrCode","barCode"]},function(){return e._complete=function(e){var t,n;_&&(t=e.resultStr,t&&(n=JSON.parse(t),e.resultStr=n&&n.scan_code&&n.scan_code.scan_result))},e}())},openProductSpecificView:function(e){n(f.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){var t,i,a,o,r=e.cardList,s=[];for(t=0,i=r.length;i>t;++t)a=r[t],o={card_id:a.cardId,card_ext:a.cardExt},s.push(o);n(f.addCard,{card_list:s},function(){return e._complete=function(e){var t,n,i,a=e.card_list;if(a){for(a=JSON.parse(a),t=0,n=a.length;n>t;++t)i=a[t],i.cardId=i.card_id,i.cardExt=i.card_ext,i.isSuccess=!!i.is_succ,delete i.card_id,delete i.card_ext,delete i.is_succ;e.cardList=a,delete e.card_list}},e}())},chooseCard:function(e){n("chooseCard",{app_id:I.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},function(){return e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e}())},openCard:function(e){var t,i,a,o,r=e.cardList,s=[];for(t=0,i=r.length;i>t;++t)a=r[t],o={card_id:a.cardId,code:a.code},s.push(o);n(f.openCard,{card_list:s},e)},chooseWXPay:function(e){n(f.chooseWXPay,o(e),e)}},t&&(e.wx=e.jWeixin=O),O}),$(function(){var e=window.location.host,t="ule.com",n="ulecdn.com";if(e.indexOf("ule.com")!=-1&&e.indexOf("beta.ule.com")==-1&&(t="ule.com",n="ulecdn.com"),$.extend(String.prototype,{sliceAfter:function(e){return this.indexOf(e)>=0?this.substring(this.indexOf(e)+e.length,this.length):""},sliceBefore:function(e){return this.indexOf(e)>=0?this.substring(0,this.indexOf(e)):""}}),$.browser=$.browser||{},$.extend($.browser,function(){var e,t,n=navigator.userAgent.toLowerCase();if(n.indexOf("uleapp/")>0){if(t=n.sliceAfter("uleapp/").split("_")[3],e=n.sliceAfter("uleapp/").sliceBefore("_"),"ule"==n.sliceAfter("uleapp/").split("_")[1])var i={ule:!0,ylxd:!1,ysh:!1};else if("ysh"==n.sliceAfter("uleapp/").split("_")[1])var i={ule:!1,ylxd:!1,ysh:!0};else var i={ule:!1,ylxd:!0,ysh:!1};var a=$.extend({ios:"ios"==e,android:"android"==e,version:t},i);return a}return n.indexOf("ulxdapp/")>0?(t=n.sliceAfter("ulxdapp/").split("_")[3],e=n.sliceAfter("ulxdapp/").sliceBefore("_"),{ylxd:!0,wx:!1,ios:"ios"==e,android:"android"==e,version:t}):n.indexOf("uzgapp/")>0?(t=n.sliceAfter("uzgapp/").split("_")[3],e=n.sliceAfter("uzgapp/").sliceBefore("_"),{uzg:!0,wx:!1,ios:"ios"==e,android:"android"==e,version:t}):{ule:!1,uzg:!1,ylxd:!1,wx:n.match(/micromessenger/i),ios:n.match(/(iphone|ipod|ipad);?/i),android:n.match(/android/i)}}()),$.browser.ule)var i="//service."+t+"/seckill/item/detail/",a="?uleNeedNativeTitle=false&client_type=app_ylw&source=h5";else if($.browser.ylxd)var i="//service."+t+"/seckill/item/detail/",a="?uleNeedNativeTitle=false&client_type=app_ylxd&source=h5";else var i="//m."+t+"/mseckill/item/detail/",a="";var o=function(e,t){var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e),n.appendChild(i);var a=function(){"function"==typeof t&&t()};document.all?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||a()}:i.onload=function(){a()}};$.getScript=o,$.extend($.fn,{seckillService:function(e,o,r){e=$.extend({container:".wrapUl",prdsHtml:function(e,t,n,i,a){var o="";o="no_prd"==e.goodCss||t.isEnd?'<a href="javascript:void(0)" data-id="'+e.listId+'" class="over">已秒光</a>':t.share?'<a href="'+n+e.listId+"/"+a+i+'" data-id="'+e.listId+'" class="share">分享立获秒杀资格</a>':"no_prd"!=e.goodCss&&t.isActive?'<a href="'+n+e.listId+"/"+a+i+'" data-id="'+e.listId+'" class="begin">立即秒杀</a>':'<a href="'+n+e.listId+"/"+a+i+'"  data-id="'+e.listId+'"  class="nobegin">即将开始</a>';var r='<li><a href="'+n+e.listId+"/"+a+i+'"><img src="'+e.itemImgUrl.replace(/^http(s)?:/,"")+'"></a><p class="desc">'+e.itemName+'</p><p class="price"><span class="r_price">¥'+e.salPrice+'</span><span class="cg_price">秒杀价：¥<label>'+e.seckillPrice+'</label></span></p><p class="count"><span>数量: 200</span></p>'+o+"</li>";return r},CHANNEL:"2017051610440362",pageSize:50,pageNum:1,canGet:!0,pluginTimes:0,IsNextChangeBtn:!1,isPage:!1,api:{getDateUrl:"//act."+t+"/seckillInfoApi/queryActivityDate",getActCodeUrl:"//act."+t+"/seckillInfoApi/queryActivity",getPrdsUrl:"//act."+t+"/seckillInfoApi/queryActivityItem",getShareData:"//service."+t+"/api/share/findItemShareList.do"}},e);var s={},c=[],l={},u={t:[]},p="",d=!0,h=!0,f={dateLine:{isShowDate:o.dateLine&&o.dateLine.isShowDate||!1,container:o.dateLine&&o.dateLine.container||".timeChoose",num:o.dateLine&&o.dateLine.num||3,isSlide:o.dateLine&&o.dateLine.isSlide||!1,htmlTemp:"",render:function(e){var t=this;$(t.container).append(e),t.isSlide&&$.getScript("//i0."+n+"/ulewap/j/common/iscroll.js",V)},dateLineHtml:o.dateLine&&o.dateLine.dateLineHtml||function(e,t){var n='<li class="time '+(0==e?"focus":"")+'" data-val="'+t+'">'+Y(t)+"</li>";return n},callback:function(){}},timeLine:{isShowTimeLine:o.timeLine&&o.timeLine.isShowTimeLine||!1,container:o.timeLine&&o.timeLine.container||".timeChoose",num:"",type:o.timeLine&&o.timeLine.type||1,htmlTemp:"",mountStatus:[],render:function(e){for(var t=this,n=t.container.split(","),i=0;i<n.length;i++)$(n[i]).append(e)},handleTimeEle:function(e,t){var n=this,i=e[0].startDate,a=n.timeLineHtml("",i,"");n.mountStatus[t]=!0,$(n.container).eq(t).append(a)},timeLineHtml:o.timeLine&&o.timeLine.timeLineHtml||function(e,t,n){var i='<li class="time '+(0==e?"focus":"")+'" data-val="'+n+'">'+new Date(t.replace(/-/g,"/")).format("hh:nn")+"场</li>";return i},bindClick:function(t){var n=this;$(n.container).children().click(function(){if(u.t.length)for(var n=0;n<u.t.length;n++)clearInterval(u.t[n]),u.t[n]=null;$(this).addClass("focus").siblings().removeClass("focus");var i=$(this).index();$(m).html(""),e.pageNum=1,d=!0,h=!0,JEND.track.ule.sendEvent("webapp","click","h5_ms20170521_actcode_"+$(this).data("val"),""),S(i,t[i]),T(i,t[i],E)})},callback:function(){}},countDown:{isShowCountDown:o.countDown&&o.countDown.isShowCountDown||!1,container:o.countDown&&o.countDown.container||".startTime",htmlTemp:"",timeFormat:o.countDown&&o.countDown.timeFormat||["天","时","分","秒"],distanceEndText:o.countDown&&o.countDown.distanceEndText||"距结束",distanceStartText:o.countDown&&o.countDown.distanceStartText||"距开始",render:function(e){var t=this;$(t.container).append(e)},timeLineHtml:o.countDown&&o.countDown.timeLineHtml||function(){var e="<label></label><label></label><label></label><label></label>";return e},callback:function(){}}},m=e.container,v=function(e){k(e)},g=function(){for(var t=$(e.container+" .section").attr("id"),n=t.substring(t.indexOf("_")+1),i=n.substring(0,n.lastIndexOf("_")),a=0;a<s[p].actitityList.length;a++)if(s[p].actitityList[a].code==i){var o=a,r=s[p].actitityList[a];break}$(window).unbind("scroll"),$(window).scroll(function(){var t=$(e.container+" li").last();if(0==t.length)return!1;if($(window).scrollTop()+$(window).height()>=t.offset().top+t.offset().height){if(!d)return;h&&(h=!1,$(".loaddiv").show(),T(o,r,E))}
})},w=function(e){for(var e=e.split(","),t=0;t<e.length;t++)c.push(e[t]),s[e[t]]={}},y=function(e,t){s[e].actitityList=[];for(var n=0;n<t.length;n++)s[e].actitityList.push(t[n])},x=function(e,t){l[e]&&l[e].length>0?l[e].push(t):(l[e]=[],l[e].push(t))},k=function(t){return $.isEmptyObject(s)?void $.ajax({type:"GET",async:!0,dataType:"jsonp",jsonp:"jsonCallBack",url:e.api.getDateUrl,data:{channel:e.CHANNEL},success:function(e){w(e.activityDateList),t&&t.apply(this,[e.activityDateList])},error:function(e,t,n){$(".loading_wrapper").hide()}}):void(t&&t.apply(this,[c]))},b=function(t,n,i,a){if(!$.isEmptyObject(s[t]))return void(i&&i.apply(this,[s[t].actitityList]));var o={channel:e.CHANNEL,activityDate:t};$.ajax({type:"GET",async:!0,dataType:"jsonp",jsonp:"jsonCallBack",url:e.api.getActCodeUrl,data:o,success:function(e){y(t,e.actitityList),a||(a=this),i&&i.apply(a,[e.actitityList,n])},error:function(e,t,n){$(".loading_wrapper").hide()}})},T=function(t,n,i){var a=n.code;if(!e.isPage&&l[a]&&l[a].length>0)return void(i&&i.apply(this,[t,l[a][0],n]));var o={activityCode:a,pageSize:e.pageSize,pageNum:e.pageNum};$.ajax({type:"GET",async:!0,dataType:"jsonp",jsonp:"jsonCallBack",url:e.api.getPrdsUrl,data:o,success:function(e){if("0000"==e.returnCode){var o=e.itemListPage;x(a,o),i&&i.apply(this,[t,o,n])}else $("#session_"+a+"_"+t).remove()},error:function(e,t,n){$(".loading_wrapper").hide()}})},_=function(e){var e=e.split(","),t=system.systemTime.get("yyyymmdd");e.sort();for(var n=0;n<e.length;n++){if(!(t>e[n])){var i=e[n];break}if(n==e.length-1)var i=e[n]}p=i,b(i,"",D),JEND.track.ule.sendEvent("webapp","click","h5_ms20170521_date_"+i,"")},C=function(e){var e=e.split(","),t=[],n=system.systemTime.get("yyyymmdd");e.sort();for(var i=0;i<e.length;i++)n>e[i]?i==e.length-1&&t.push(e[i]):t.push(e[i]);e=t;var a=e.length,o="";this.itemLen=a,"number"==typeof f.dateLine.num&&a>f.dateLine.num&&(a=f.dateLine.num);for(var i=0;i<a;i++){var r=e[i].replace(/-/g,"");o+=f.dateLine.dateLineHtml(i,r)}f.dateLine.render(o),M()},M=function(){$(f.dateLine.container).find("li").bind("click",function(){var t=$(this);if(u.t.length)for(var n=0;n<u.t.length;n++)clearInterval(u.t[n]),u.t[n]=null;t.addClass("focus").siblings().removeClass("focus");var i=$(this).attr("data-val");$(m).html(""),e.pageNum=1,d=!0,h=!0,p=i,b(i,"",D),JEND.track.ule.sendEvent("webapp","click","h5_ms20170521_date_"+i,"")}),$(f.dateLine.container).find("li").eq(0).click()},D=function(e){if(f.timeLine.isShowTimeLine){if(1==f.timeLine.type){for(var t="",n=0;n<e.length;n++)t+=f.timeLine.timeLineHtml(n,e[n].startDate,e[n].code);f.timeLine.render(t),S(0,e[0].code),T(0,e[0],E),f.timeLine.bindClick(e)}else if(2==f.timeLine.type)for(var n=0;n<e.length;n++)S(n,e[n].code),T(n,e[n],E);else if(3==f.timeLine.type)S(0,e[0].code),T(0,e[0],E);else if(4==f.timeLine.type){S(0,e[0].code);var i=c.length;f.dateLine.num<c.length&&(i=f.dateLine.num);for(var n=0;n<i;n++)f.timeLine.mountStatus[n]||(s[c[n]].actitityList&&s[c[n]].actitityList.length>0?f.timeLine.handleTimeEle(s[c[n]].actitityList,n):b(c[n],n,f.timeLine.handleTimeEle,f.timeLine));T(0,e[0],E)}}else S(0,e[0].code),T(0,e[0],E)},S=function(e,t){$(m).append('<div class="section" id="session_'+t+"_"+e+'"><div class="loading"></div></div>')},E=function(t,n,i){if(!n.itemList||0==n.itemList.length)return 1==e.pageNum?$(".miaoshadiv").html(""):(d=!1,h=!0),void $(".loaddiv").hide();var a=n.itemList;N(t,a,i),H()},I=function(e,t,n){f.countDown.isShowCountDown&&(4==f.timeLine.type?"秒杀已结束"==e?$(f.countDown.container).eq(0).html(""):$(f.dateLine.container).children().eq(0).hasClass("focus")&&$(f.countDown.container).eq(0).html("<span>"+e+"</span>"+f.countDown.timeLineHtml()):"秒杀已结束"==e?$("#session_"+n+"_"+t+" "+f.countDown.container).html(e):$("#session_"+n+"_"+t+" "+f.countDown.container).html("<span>"+e+"</span>"+f.countDown.timeLineHtml()))},L=function(t,n,i,a){if(1==e.pageNum){if(f.timeLine.isShowTimeLine&&2==f.timeLine.type){var o=$('<p class="timeP clearfix"></p>'),r=$('<span class="left '+f.timeLine.container.replace(".","")+'"></span>'),s=f.timeLine.timeLineHtml("",i.startTime,"");r.append(s),o.append(r);var c=$('<span class="right '+f.countDown.container.replace(".","")+'"></span>');o.append(c),$("#session_"+n+"_"+t).prepend(o);var l=c}else if(f.timeLine.isShowTimeLine&&4==f.timeLine.type)if(0==$(".timeChoose li.focus").index())var l=$(f.countDown.container);else{var l=$("");$(f.countDown.container).html("")}else if(f.countDown.isShowCountDown){var o=$('<p class="timeP"></p>'),c=$('<span class="right '+f.countDown.container.replace(".","")+'"></span>');o.append(c),$("#session_"+n+"_"+t).prepend(o);var l=c}else if(f.countDown.isShowCountDown)var l=$(f.countDown.container);else var l=$("");i.nowTime<i.startTime?(I(f.countDown.distanceStartText,t,n),j(l,i.startTime,t,function(){$(".nobegin").each(function(){$(this).attr("class","ms_btn begin").html("立即秒杀")}),I(f.countDown.distanceEndText,t,n),j(l,i.endTime,t,function(){I("秒杀已结束",t,n),$(".wrapUl .ms_btn").attr("class","ms_btn over").attr("href","javascript:void(0)").html("已秒光")})})):i.nowTime<i.endTime?(a.isActive=!0,I(f.countDown.distanceEndText,t,n),j(l,i.endTime,t,function(){I("秒杀已结束",t,n),$(".wrapUl .ms_btn").attr("class","ms_btn over").attr("href","javascript:void(0)").html("已秒光")})):(a.isEnd=!0,I("秒杀已结束",t,n))}else i.nowTime<i.startTime||(i.nowTime<i.endTime?a.isActive=!0:a.isEnd=!0)},A=function(t,n,o,r){var s=r.code;if(e.pageNum>1)var c="";else var c='<ul class="clear" style="width:100%">';for(var l=0;l<n.length;l++){var u=n[l];u.itemImgUrl=u.itemImgUrl.replaceAll(".jpg","_l.jpg").replaceAll(".JPG","_l.jpg"),(u.storageNum-u.sellStorageNum<1||o.isEnd)&&(u.goodCss="no_prd"),e.pageNum>1?c+=e.prdsHtml(u,o,i,a,s):l==n.length-1?c=c+e.prdsHtml(u,o,i,a,s)+'</ul><div class="loaddiv" style="display: none"><span>加载中...</span></div>':c+=e.prdsHtml(u,o,i,a,s)}O(t,r.code,c)},O=function(t,n,i){$("#session_"+n+"_"+t+" .loading").remove(),e.isPage&&e.pageNum>1?$("#session_"+n+"_"+t+" ul").append(i):($("#session_"+n+"_"+t).append(i),1==e.pageNum&&(e.isPage&&g(),P())),e.pageNum=++e.pageNum,$(".loaddiv").hide(),d=!0,h=!0,r&&r.apply(this,[pluginTimes])},P=function(){"number"==typeof window.pluginTimes?window.pluginTimes=e.pluginTimes=window.pluginTimes+1:window.pluginTimes=e.pluginTimes=1},N=function(e,t,n){var i=t,a={nowTime:system.systemTime.get("yyyy-mm-dd hh:nn:ss"),startTime:n.startDate,endTime:n.endDate},o={isEnd:!1,isActive:!1,share:!1},r=n.code;L(e,r,a,o),A(e,i,o,n)},H=function(){},V=function(){var e=$(f.dateLine.container+" li").width(),t=$(f.dateLine.container).height(),n=parseInt($(f.dateLine.container+" li").css("margin-left").replace("px","")),i=parseInt($(f.dateLine.container+" li").css("margin-right").replace("px","")),a=$(f.dateLine.container+" li").size();$(f.dateLine.container).css("width",(e+n+i)*a+"px"),$(f.dateLine.container).wrap('<div id="scrollWrapper" style="position:relative;height: '+t+'px;">');var o=$(f.dateLine.container).parent().attr("id");fscroll=new iScroll(o,{snap:"li",hScrollbar:!1,vScrollbar:!1,vScroll:!1,onScrollEnd:function(){}})},j=function(e,t,n,i){var a=t.parseDate().getTime(),o=Math.round((a-system.systemTime.get().getTime())/1e3);(function(t){var n=setInterval(function(){o=Math.round((a-system.systemTime.get().getTime())/1e3),z(e,o,f.countDown.timeFormat),o<=0&&(clearInterval(u.t[t]),u.t[t]=null,i&&i(e,t))},1e3);u.t[t]=n})(n),z(e,o,f.countDown.timeFormat)},z=function(e,t,n){if(t>0){var i=t%60,a=Math.floor(t%3600/60),o=Math.floor(t/3600),r=Math.floor(t/3600/24);o-=24*r;var s=e.children();r=(r+"").padLeft(2,"0").toString(),"00"==r?s.eq(1).hide():s.eq(1).html("<i>"+r+"</i>"+n[0]).show(),o=(o+"").padLeft(2,"0").toString(),s.eq(2).html("<i>"+o+"</i>"+n[1]),a=(a+"").padLeft(2,"0").toString(),s.eq(3).html("<i>"+a+"</i>"+n[2]),i=(i+"").padLeft(2,"0").toString(),s.eq(4).html("<i>"+i+"</i>"+n[3])}},Y=function(e){if(!e)return"";var t=(e.substring(0,4),e.substring(4,6)),n=e.substring(6,8);return t+"月"+n+"日"},R=function(){$("p.next").click(function(){$(window).scrollTop(0);var e=$(f.dateLine.container+" li.focus").next();e.length>0?e.click():$(f.dateLine.container+" li").eq(0).click()})};e.IsNextChangeBtn&&R();var F=function(){v(f.dateLine.isShowDate?C:_)};F()}})}),$.extend($.fn,{attrJSON:function(e){return(this.attr(e||"rel")||"").parseAttrJSON()}}),$.extend(String.prototype,{replaceAll:function(e,t){return this.replace(new RegExp(e,"gm"),t)},parseDate:function(){return(new Date).parse(this.toString())},padLeft:function(e,t){return this.length>=e?this.toString():this._pad(e,t,0)},_pad:function(e,t,n){for(var i=[n?"":this,n?this:""];i[n].length<(e?e:0)&&(i[n]=i[1]+(t||" ")+i[0]););return i[n]},sliceAfter:function(e){return this.indexOf(e)>=0?this.substring(this.indexOf(e)+e.length,this.length):""},sliceBefore:function(e){return this.indexOf(e)>=0?this.substring(0,this.indexOf(e)):""}}),$.extend($,{getJSONPSUPER:function(e,t,n,i){var t=$.extend({callback:"callback",timeout:1e4},t),a=/=\?/,o="json"+ +new Date+parseInt(100*Math.random());a.test(e)||(e+=(e.match(/\?/)?"&":"?")+t.callback+"=?"),"function"==typeof n&&(i=n,n={}),e=e.replace(a,"="+o),e+="&"+$.param(n);var r=document.getElementsByTagName("head")[0],s=document.createElement("script");s.src=e;var c=null,l=function(e){if(c){clearTimeout(c),c=null,i&&i(e);try{delete window[o]}catch(e){}r&&r.removeChild(s)}};window[o]=function(e){l(e)},$(s).error(function(){l(!1)}),c=setTimeout(function(){l("timeout")},t.timeout),r.appendChild(s)}}),$.browser=$.browser||{},$.extend($.browser,function(){var e,t,n=navigator.userAgent.toLowerCase();if(n.indexOf("uleapp/")>0){if(t=n.sliceAfter("uleapp/").split("_")[3],e=n.sliceAfter("uleapp/").sliceBefore("_"),"ule"==n.sliceAfter("uleapp/").split("_")[1])var i={ule:!0,ylxd:!1};else var i={ule:!1,ylxd:!0};var a=$.extend({ios:"ios"==e,android:"android"==e,version:t},i);return a}return n.indexOf("ulxdapp/")>0?(t=n.sliceAfter("ulxdapp/").split("_")[3],e=n.sliceAfter("ulxdapp/").sliceBefore("_"),{ylxd:!0,wx:!1,ios:"ios"==e,android:"android"==e,version:t}):n.indexOf("uzgapp/")>0?(t=n.sliceAfter("uzgapp/").split("_")[3],e=n.sliceAfter("uzgapp/").sliceBefore("_"),{uzg:!0,wx:!1,ios:"ios"==e,android:"android"==e,version:t}):{ule:!1,uzg:!1,ylxd:!1,wx:n.match(/micromessenger/i),ios:n.match(/(iphone|ipod|ipad);?/i),android:n.match(/android/i)}}()),$.extend(Date.prototype,{parse:function(e){return"string"==typeof e?e.indexOf("GMT")>0||e.indexOf("gmt")>0||!isNaN(Date.parse(e))?this._parseGMT(e):e.indexOf("UTC")>0||e.indexOf("utc")>0||e.indexOf(",")>0?this._parseUTC(e):this._parseCommon(e):new Date},_parseGMT:function(e){return this.setTime(Date.parse(e)),this},_parseUTC:function(e){return new Date(e)},_parseCommon:function(e){var t=e.split(/ |T/),n=t.length>1?t[1].split(/[^\d]/):[0,0,0],i=t[0].split(/[^\d]/);return new Date(i[0]-0,i[1]-1,i[2]-0,(n[0]||0)-0,(n[1]||0)-0,(n[2]||0)-0)},clone:function(){return(new Date).setTime(this.getTime())},dateAdd:function(e,t){var n=this.getFullYear(),i=this.getMonth(),a=this.getDate(),o=this.getHours(),r=this.getMinutes(),s=this.getSeconds();switch(e){case"y":this.setFullYear(n+t);break;case"m":this.setMonth(i+t);break;case"d":this.setDate(a+t);break;case"h":this.setHours(o+t);break;case"n":this.setMinutes(r+t);break;case"s":this.setSeconds(s+t)}return this},dateDiff:function(e,t){var n=t-this;switch(e){case"w":return n/1e3/3600/24/7;case"d":return n/1e3/3600/24;case"h":return n/1e3/3600;case"n":return n/1e3/60;case"s":return n/1e3}},format:function(e){if(isNaN(this))return"";var t={"m+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"n+":this.getMinutes(),"s+":this.getSeconds(),S:this.getMilliseconds(),W:["日","一","二","三","四","五","六"][this.getDay()],"q+":Math.floor((this.getMonth()+3)/3)};e.indexOf("am/pm")>=0&&(e=e.replace("am/pm",t["h+"]>=12?"下午":"上午"),t["h+"]>=12&&(t["h+"]-=12)),/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}});var windowHref=window.location.host,doMain="beta.ule.com",ulecdn="beta.ulecdn.com";windowHref.indexOf("ule.com")!=-1&&windowHref.indexOf("beta.ule.com")==-1&&(doMain="ule.com",ulecdn="ulecdn.com"),system={systemTime:{load:function(e){var t=this,n=function(){$("#ms_area919").remove()};$.getJSONPSUPER("//pub."+doMain+"/clock/datetime?type=2&callback=?",{callback:"jsonCallBack",timeout:1e4},function(i){0==i?n():"timeout"==i?n():(t.timeDiff=(new Date).getTime()-i.time,e&&e())})},get:function(e){var t=new Date;return this.timeDiff&&(t=new Date((new Date).getTime()-this.timeDiff)),e?t.format(e):t}}},window.system=system,function(e){var t=location.host.substring(location.host.indexOf(".")+1),n=(location.href,"//m.ule.com/item/detail/"),i="//m.ule.com/store/index/",a=function(){var t="邮乐919购物节 邮储手机银行 扫码特惠_邮乐网",n="邮乐919购物节 邮储手机银行 扫码特惠_邮乐网",i="https://i0.ule.com/ulewap/i/logo.png",a=location.href+"&ulespring=true",o=t+"##"+n+"##"+i+"##"+a+"&&WX##WF##QQ";return e.browser.android?void window.group.jsMethod(o):e.browser.ios?o:o};window.shareCall=a;var o,r,s=function(t){t&&(e(".loading").hide(),c.status=!0,o&&o.remove()&&clearTimeout(r),o=e('<div class="tips_overlay"><div class="tipBox"><div class="msg"><h2><i></i>'+t+"</h2></div></div></div>").appendTo("body"),setTimeout(function(){o.addClass("overlay-in"),o.children(".tipBox").addClass("mask-in")},10),r=setTimeout(function(){o&&(o.addClass("overlay-out"),o.children(".tipBox").addClass("mask-out"),o.remove(),o=null)},2e3))};window.tipBox=s,"beta.ule.com"===t?CHANNEL="2017082109270560":CHANNEL="2017092710310127";var c={status:!0,appkey:{appkey:"4b9f40822ddd5cd5",version_no:"apr_2010_build01"},init:function(){var e=this;e.getUrl(),e.getSeckill(CHANNEL),e.ewmBindEvent()},getUrl:function(){e.browser.ule&&(n="uleMobile://uleVi_",i="ulemobile://uleStore_")},getParams:function(){for(var e={},t=decodeURIComponent(location.href),n=t.substring(t.indexOf("?")+1),i=n.split("&"),a=0;a<i.length;a++){var o=i[a],r=o.split("="),s=o.slice(o.indexOf("=")+1);e[r[0]]=s}return e},priceFormat:function(e){var t=e.toString().split(".");return"<b>"+t[0]+"</b>."+t[1]},getSeckill:function(t){function n(){var e={container:"#seckill .wrapUl",prdsHtml:function(e,t,n,i,a){var o='<span  data-id="'+e.listId+'"  class="ms_btn nobegin">即将开始</span>',r="",s=n+e.listId+"/"+a+i,c=e.itemName,l=e.seckillPrice.toString().split("."),u="<b>"+l[0]+"</b>."+(l[1]||"00");"no_prd"==e.goodCss||t.isEnd?(o='<span data-id="'+e.listId+'" class="ms_btn btn-default">已抢完</span>',r='<div class="isover"></div>'):t.share?(o='<span data-id="'+e.listId+'" class="ms_btn share">分享立获秒杀资格</span>',r=""):"no_prd"!=e.goodCss&&t.isActive&&(o='<span data-id="'+e.listId+'" class="ms_btn begin">立即秒杀</span>',r="");var p='<li><a href="'+s+'"><div class="picBox"><i class="ms_icon">秒杀</i>                                    <img src="'+e.itemImgUrl.replace(/^http(s)?:/,"")+'"/>                                    '+r+'                                </div>                                <div class="desc">                                    <p class="name">'+c+'</p>                                    <p class="price clearfix">￥<span class="price-min">'+u+'</span></p>                                    <p class="buy">'+o+"</p>                                </div>                            </a></li>";return p},CHANNEL:t};return e}if(""==t)return void e("#seckill").hide();var i={countDown:{isShowCountDown:!0,isShowCountDown:!0,timeFormat:["天","时","分","秒"],distanceEndText:"距结束"},dateLine:{isShowDate:!0,num:1,dateLineHtml:function(e,t){var n='<li class="time '+(0==e?"focus":"")+'" data-val="'+t+'"><i></i></li>';return n}},timeLine:{type:2,isShowTimeLine:!0,container:".timeDesc",timeLineHtml:function(e,t,n){if(e>0)return"";var t=new Date(t.replace(/-/g,"/")),i='<i></i><span class="time '+(0==e?"focus":"")+'" data-val="'+n+'">每天上午10点限量开秒</span>';return i},bindClick:function(){}}};system.systemTime.load(function(){var t=n();e("#seckill .wrapUl").seckillService(t,i,function(){if(""==e("#seckill .wrapUl").html())return void e("#seckill").hide()})})},ewmBindEvent:function(){var t=e(".add_popewm ul li img");t.click(function(t){e(this).parent().find(".pop_box").css("display","-webkit-box"),e(this).parent().siblings().find(".pop_box").hide()}),e(".pop_box").click(function(){e(this).css("display","none")})},lotteryUtils:function(n){e.ajax({type:"get",data:{activityCode:activityNo},async:!0,url:"//prize."+t+"/mc/base/lotteryUtils/getLotteryServerTime",dataType:"jsonp",jsonp:"callback",success:function(e){}})},getCookie:function(e){for(var t=document.cookie.split(";"),n=0,i=t.length;n<i;n++)if(t[n].split("=")[0].trim()==e)return t[n].split("=")[1]},checkUserStatus:function(){return!!this.getCookie("mall_cookie")},formatStr:function(e,t){return e.length<t?e:e.substring(0,t)+"..."}};c.init()}($),$.browser.wx&&$(function(){var e="ule.com",t="邮爱传万家，跨年大聚惠",n=location.href,i="邮爱传万家，跨年大聚惠",a="https://i0.ule.com/ulewap/i/logo.png",o={appkey:{appkey:"4b9f40822ddd5cd5",version_no:"apr_2010_build01"},init:function(){var e=this;e.shareWX()},shareWX:function(){function o(e,o,s){wx.config({debug:!1,appId:r,timestamp:e,nonceStr:o,signature:s,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]}),wx.ready(function(){wx.onMenuShareTimeline({title:i,desc:i,link:n,imgUrl:a,trigger:function(e){},success:function(e){},cancel:function(e){},fail:function(e){}}),wx.onMenuShareAppMessage({title:t,desc:i,link:n,imgUrl:a,trigger:function(e){},success:function(e){},cancel:function(e){},fail:function(e){}}),wx.onMenuShareQQ({title:t,desc:i,link:n,imgUrl:a,trigger:function(e){},complete:function(e){},success:function(e){},cancel:function(e){},fail:function(e){}}),wx.onMenuShareWeibo({title:t,desc:i,link:n,imgUrl:a,trigger:function(e){},complete:function(e){},success:function(e){},cancel:function(e){},fail:function(e){}})})}var r="",s="";"ule.com"==e?(s="www.ule.com",r="wx4e190edda7e57237"):(s="beta.ule.com",r="wx8b73da0067c52318");var c="//service."+e+"/api/mobile/getWechatSignature.do",l={lotteryInfoId:325,currentPageUrl:location.href,appkey:"4b9f40822ddd5cd5",version_no:"apr_2010_build01",appId:r,t:Math.random()};$.ajax({url:c,data:l,dataType:"jsonp",jsonp:"jsonApiCallback",success:function(e){"0000"==e.returnCode&&o(e.detail[0].timestamp,e.detail[0].nonceStr,e.detail[0].signature)}})}};o.init()}),function(e){"undefined"==typeof JEND&&(window.JEND={}),JEND.track={},JEND.track.uleUrl="ulecdn.com",JEND.track.scriptPath="https:"==document.location.protocol?"https://i0":"http://i1",JEND.track.init=function(e){var t=this;t.ule.init()},JEND.track.loadJS=function(e,t,n){t?JEND.track.getRemoteScript(e,{async:!0,keepScriptTag:!0},n):document.write(unescape('%3Cscript type="text/javascript" src="'+e+'"%3E%3C/script%3E'))},JEND.track.getRemoteScript=function(t,n,i,a){e.isFunction(n)&&(a=i,i=n,n={});var o=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.src=t;for(var s in n)"keepScriptTag"==s?r.keepScriptTag=!0:r.setAttribute(s,n[s]);r.onload=r.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(i&&i(),r.onload=r.onreadystatechange=null,r.keepScriptTag||o.removeChild(r))},r.onerror=function(){a&&a()},o.appendChild(r)},JEND.track.ule={init:function(){JEND.track.loadJS(JEND.track.scriptPath+"."+JEND.track.uleUrl+"/j/uletrack.js",!0)},sendEvent:function(e,t,n,i){window._utrack&&_utrack.push(["_trackEvent",e,t||"",n||"",i||""])}},JEND.track.init()}(jQuery),function(e){var t={init:function(){var t=this,n=t.getParams();"false"==n.ishead?(e("body").css({"padding-top":"0px"}),e("<style>nav.fixed{top:0px;}</style>").appendTo("head")):(t.headHtml(),t.popHtml()),t.backup(),t.getPageUrl=t.getParams();var i=t.getPageUrl.skipApp;"true"==i&&t.skipApp()},headHtml:function(){var t="",n=document.title,i="fix";e("body").css({"padding-top":"40px"}),e("<style>nav.fixed{top:40px;}</style>").appendTo("head"),e.browser.ule&&e.browser.ios&&e.browser.version>367&&(e("body").css({"padding-top":"60px"}),e("<style>nav.fixed{top:60px;}</style>").appendTo("head")),t='<h3 class="headTitle '+i+'"><a href="javascript:history.back();" class="back"></a><p>'+n+'</p><a href="javascript:;" class="classfiy"></a><span class="shareBtn"></span></h3>',e("body").prepend(t)},popHtml:function(){var t="";t+='<div class="classfiy_pop">',t+='<div class="mask"></div>',t+='<ul class="classfiy_nav">',t+='<li class="homeLi"><a href="//m.ule.com/"><b></b>首页</a></li>',t+='<li class="classfiyLi"><a href="//m.ule.com/category/all.html"><b></b>分类</a></li>',t+='<li class="cartLi"><a href="//m.ule.com/cart/list"><b></b>购物车</a></li>',t+='<li class="my_centerLi"><a href="//m.ule.com/user/center"><b></b>我的邮乐</a></li>',t+="</ul>",t+="</div>",e("body").append(t),e(".classfiy").click(function(){e(".classfiy_pop").show()}),e(".classfiy_pop").click(function(){e(".classfiy_pop").hide()});var n="0",i="12px",a="9px";if(e.browser.ule&&e.browser.ios&&e.browser.version>367&&(a="29px"),e(".headTitle").css({"max-width":"750px",background:"rgba(255,255,255,0.95)",width:"100%",position:"relative","border-bottom":"1px solid rgba(255,255,255,0.95)",margin:"0",padding:n}),e(".headTitle.fix").css({position:"fixed",top:"0px","z-index":"100"}),e(".headTitle p").css({width:"70%",margin:"0 auto",height:"40px","line-height":"40px","font-family":"microsoft yahei",color:"#333","text-align":"center","font-size":"16px","font-weight":"400",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}),e(".headTitle a.back").css({position:"absolute",height:"14px",width:"14px",left:"15px",top:i,"border-top":"2px solid #666","border-left":"2px solid #666",transform:"rotate(-45deg)","-webkit-transform":"rotate(-45deg)"}),e(".shareBtn").css({width:"22px",height:"21px",display:"none",background:"url(//i0.ulecdn.com/ulewap/i/goodsDetail/icon_share_b.png) center center no-repeat","background-size":"100% 100%","margin-right":"0",position:"absolute",right:"8px",top:a}),e(".headTitle a.classfiy").css({background:"url(//i0.ulecdn.com/ulewap/i/goodsDetail/icon-more.png) center center no-repeat",height:"40px",display:"inline-block","background-size":"30px",width:"50px","margin-right":"0",position:"absolute",right:"0",top:"0"}),e(".classfiy_pop").css({"background-color":"rgba(0, 0, 0, 0.3)",position:"fixed",top:"0",left:"0","z-index":"100",width:"100%",height:"100%",display:"none"}),e(".classfiy_pop .mask").css({"z-index":"101",position:"fixed",top:"0",left:"0",width:"100%",height:"100%"}),e(".classfiy_nav").css({position:"fixed",right:"0",top:"40px",background:"#fff","border-radius":" 0 0 0 5px","z-index":"102"}),e(".classfiy_nav li").css({height:"40px","line-height":"40px","border-bottom":"1px solid #ccc",width:"110px"}),e(".classfiy_nav li:last-child").css({"border-bottom":"none","border-radius":"0 0 0 5px"}),e(".classfiy_nav li a").css({height:"40px","line-height":"40px",display:"block","box-sizing":"border-box",width:"100%",color:"#333",padding:"0 0 0 10px","border-left":"2px solid #fff"}),e(".classfiy_nav li b").css({width:"22px",height:"24px",background:"url(//i0.ule.com/ulewap/i/classfiyNav_icon.png) -9999px -9999px no-repeat","background-size":"91px 46px",margin:"0 5px 0 0",display:"inline-block","vertical-align":"middle"}),e(".classfiy_nav li.homeLi b").css({"background-position":"0 1px","background-size":"91px 46px"}),e(".classfiy_nav li.classfiyLi b").css({"background-position":"-24px 1px","background-size":"91px 46px"}),e(".classfiy_nav li.cartLi b").css({"background-position":"-48px 1px","background-size":"91px 46px"}),e(".classfiy_nav li.my_centerLi b").css({"background-position":"-72px 1px","background-size":"91px 46px"}),e(".classfiy_nav .homeLi.current b").css({"background-position":"0 -23px","background-size":"91px 46px"}),e(".classfiy_nav .classfiyLi.current b").css({"background-position":"-24px -23px","background-size":"91px 46px"}),e(".classfiy_nav .cartLi.current b").css({"background-position":"-48px -23px","background-size":"91px 46px"}),e(".classfiy_nav .my_centerLi.current b").css({"background-position":"-72px -23px","background-size":"91px 46px"}),e(".classfiy_nav li a:hover").css({"text-decoration":"none",color:"#333"}),e(".classfiy_nav li.current a").css({"border-left":"2px solid #f52626",color:"#f52626"}),e.browser.ule&&e.browser.ios&&parseInt(e.browser.version)>367&&(e(".headTitle").css({"padding-top":"20px"}),e(".headTitle a.back").css({top:"32px"}),e(".headTitle a.classfiy").css({top:"20px"})),e.browser.ylxd)e(".headTitle .back").attr("href","ulemobile://ulePopView"),e(".headTitle a.classfiy").remove(),e.browser.ios&&e(".headTitle .back").attr("href","ulemobile://ulePopToFatherView");else if(e.browser.ule){e(".headTitle .back").attr("href","ulemobile://ulePopView"),e(".headTitle a.classfiy").remove();var o=location.href;if(o=decodeURIComponent(o),o.indexOf("ulesharejson")!=-1){var r=o.indexOf("{"),s=o.lastIndexOf("}"),c=JSON.parse(o.substring(r,s+1)),l=window.title||c.title,u=window.content||c.content,p=c.imageUrl.replace(/^http/,"https"),d=encodeURI(c.linkUrl),h=c.shareType,f=c.logTitle;e(".shareBtn").css("display","inline-block"),e(".headTitle").delegate(".shareBtn","click",function(){if(parseInt(e.browser.version)<342)location.href="uleMobile://uleShare_"+encodeURI(l)+"##"+encodeURI(u)+"##"+p+"##"+d+"##ule0317redPacketshare=true##false";else{var t=encodeURI('?ulesharejson{"title":"'+l+'","imageUrl":"'+p+'","linkUrl":"'+d+'","content":"'+u+'","shareType":"'+h+'","logTitle":"'+f+'"}');location.href="uleMobile://uleNewShare_"+t}})}}},getParams:function(){for(var e={},t=location.href,n=t.substring(t.indexOf("?")+1),i=n.split("&"),a=0;a<i.length;a++){var o=i[a],r=o.split("="),s=o.slice(o.indexOf("=")+1);e[r[0]]=s}return e},backup:function(){var t="";t='<div class="fixed_btn"><a class="go_back"></a></div>',e("body").append(t),e(".fixed_btn").css({position:"fixed",right:"10px",bottom:"-300px","z-index":"20"}),e(".fixed_btn a.go_back").css({width:"48px",height:"48px",display:"block",background:"url(//i0.ule.com/ulewap/i/fixed_button2.png) 0 0 no-repeat","background-size":"100%",position:"relative"}),e(".fixed_btn a.go_back").click(function(){e("html, body").scrollTop(0),event.preventDefault()}),e(window).scroll(function(){var t=e(window).scrollTop();t>200?e(".fixed_btn").css({bottom:"3%"}):e(".fixed_btn").css({bottom:"-300px",transition:"all ease 1.2s","-webkit-transition":"all ease 1.2s","-moz-transition":"all ease 1.2s","-ms-transition":"all ease 1.2s","-o-transition":"all ease 1.2s"})})},skipApp:function(){var t=document.title,n=location.href.sliceAfter("com"),i=n.replace(/skipApp=true&?|&?skipApp=true/,""),a=location.host.substring(location.host.indexOf(".")+1);e.browser.ios?location.href=encodeURI("ulebuy://WEBVIEW%%%hideNavgationBar^^^0///title^^^"+t+"///key^^^https://"+a+i+"///hasxib^^^0"):e.browser.android&&(location.href=encodeURI("ulebuy://ProductActivity&&wgt.ProductDetail&&url::https://"+a+i+"##title::"+t))}};t.init()}($);